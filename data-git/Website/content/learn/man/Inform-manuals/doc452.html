<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Inform 7 - 26.6. What was new in build 5J39 (December 2007)</title>
</head>
<body>
<div style="line-height: 18px;">

<!-- SEARCH TITLE "What was new in build 5J39 (December 2007)" -->
<!-- SEARCH SECTION "26.6" -->
<!-- SEARCH SORT "026-006-000" -->
<font><table><tr width="100%"><td width=80 valign="top"><a href=doc451.html border=0><img border=0 src=images/Back.png border=0></a><a href=index.html border=0><img border=0 src=images/Home.png border=0></a><a href=doc453.html border=0><img border=0 src=images/Forward.png border=0></a></td><td valign="top"><b>26.6. What was new in build 5J39 (December 2007)</b></td></tr></table><p>
<p>
<p><img border=0 hspace=5 vspace=5 align=left src=images/nov07.jpg> As this release was being prepared, the American footballer Antonio Cromartie scored a touchdown with a continuous run of 109.88 yards, a league record unlikely ever to be broken on a pitch 110 yards long; the UK government burned two CDs with unencrypted bank details for every family with children, put them into the unregistered post, and then panicked when they never arrived; a pilot project in Fairfield, Texas, began converting carbon emissions from a power station into (edible) baking soda; there were wildfires in Malibu, floods in Tabasco and Rift Valley Fever in the Rift Valley; and a cruise liner struck an iceberg in the Antarctic and sank, but everyone was saved.
<p>
<p>In the world of Inform, build 5J39 introduced lists as first-class values. For any kind of value K, &quot;list of K&quot; was now also a kind of value, and rich support was provided for building and iterating over lists, dynamically resized as necessary.
<p>
<p><hr><p><a href=doc349.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Lists and entries</b></font></a> for the introduction of a new chapter on lists<p><p>
<p><hr><p><a name="e81"><a href=ex81.html#e81 STYLE="text-decoration: none">*<b>Example 427:  Circle of Misery</b></a><br>Retrieving items from an airport luggage carousel is such fun, how can we resist simulating it, using a list as a ring buffer?<p>
<a name="e133"><a href=ex133.html#e133 STYLE="text-decoration: none">*<b>Example 421:  Eyes, Fingers, Toes</b></a><br>A safe with a multi-number combination, meant to be dialed over multiple turns, is implemented using a log of the last three numbers dialed. The log can then be compared to the safe's correct combination.<p>
<a name="e140"><a href=ex140.html#e140 STYLE="text-decoration: none">*<b>Example 422:  The Fibonacci Sequence</b></a><br>The modest Leonardo Fibonacci of Pisa will be only too happy to construct his sequence on request, using an array.<p>
<a name="e175"><a href=ex175.html#e175 STYLE="text-decoration: none">*<b>Example 423:  I Didn't Come All The Way From Great Portland Street</b></a><br>In this fiendishly difficult puzzle, which may perhaps owe some inspiration to a certain BBC Radio panel game (1967-), a list is used as a set of actions to help enforce the rule that the player must keep going for ten turns without hesitation, repetition, or deviating from the subject on the card.<p>
<a name="e221"><a href=ex221.html#e221 STYLE="text-decoration: none">*<b>Example 419:  Leopard-skin</b></a><br>A maze that the player can escape if he performs an exact sequence of actions.<p>
<a name="e231"><a href=ex231.html#e231 STYLE="text-decoration: none">*<b>Example 424:  Lugubrious Pete's Delicatessen</b></a><br>In this evocation of supermarket deli counter life, a list is used as a queue to keep track of who is waiting to be served.<p>
<a name="e322"><a href=ex322.html#e322 STYLE="text-decoration: none">*<b>Example 415: Robo 1</b></a><br>A robot which watches and records the player's actions, then tries to repeat them back in the same order when he is switched into play-back mode.<p>
<a name="e323"><a href=ex323.html#e323 STYLE="text-decoration: none">***<b>Example 418: Robo 2</b></a><br>A robot which watches and records the player's actions, then tries to repeat them back in the same order when he is switched into play-back mode.<p>
<a name="e342"><a href=ex342.html#e342 STYLE="text-decoration: none">*<b>Example 425:  Sieve of Eratosthenes</b></a><br>The haughty Eratosthenes of Cyrene will nevertheless consent to sieve prime numbers on request.<p>
<a name="e425"><a href=ex425.html#e425 STYLE="text-decoration: none">*<b>Example 416:  What Makes You Tick</b></a><br>Building a fishing pole from several component parts that the player might put together in any order.<p>
<a name="e440"><a href=ex440.html#e440 STYLE="text-decoration: none">*<b>Example 426:  Your Mother Doesn't Work Here</b></a><br>Your hard-working mother uses a list as a stack: urgent tasks are added to the end of the list, interrupting longer-term plans.<p>
<p>
<p><p><hr><p><font size=2><pre>5J39 (1 December 2007)

This build introduces lists as first-class values. For any kind of value K,
&quot;list of K&quot; is now also a kind of value, and rich support is provided for
building and iterating over lists, which are dynamically resized as
necessary. Otherwise little is new, but once again all known bugs have
been fixed.

For any kind of value K, &quot;list of K&quot; is now also a kind of value. Lists
	resize automatically, can be iterated through, sorted, searched,
	reversed or rotated, and they have a notation enabling constant lists
	to be written down concisely: for instance,
		let L be {2, 3, 5, 7, 11};
	gives the temporary variable L the kind of value &quot;list of numbers&quot;,
	and sets it initially to this sequence of five values, whereas
		let M be the list of open doors;
	gives M the kind of value &quot;list of objects&quot;, and sets its initial
	contents to be all the doors which are currently open. (Lists can also
	be used in global variables, in properties, or table entries, and can
	include each other: &quot;list of lists of numbers&quot;, say, is a kind of value.)
	Values can be added or removed at any point in a list; lists can be merged,
	or compared for differences; and examples are presented to show the
	use of lists as queues, stacks, rings, sets, arrays, and so forth.
	(All memory management is automatic and all bounds are automatically
	checked.) See the new Chapter 20 (&quot;Lists&quot;).
Examples:
	&quot;Eyes, Fingers, Toes&quot; added to demonstrate a multi-number safe using
		lists to create a log of dialed numbers.
	&quot;Robo 1&quot; added to demonstrate a programmable robot that will replay the
		player's behavior.
	&quot;Robo 2&quot; added to demonstrate a robot that can learn multiple stored
		action scripts with command names determined by the player.
	&quot;Rock Garden&quot; reformatted to give the general material at the top.
	&quot;The Fibonacci Sequence&quot; added to demonstrate using lists as arrays.
	&quot;I Didn't Come All The Way From Great Portland Street&quot; added to
		demonstrate using lists as sets.
	&quot;Lugubrious Pete's Delicatessen&quot; added to demonstrate using lists as
		queues.
	&quot;Sieve of Eratosthenes&quot; added to demonstrate using lists as sieves.
	&quot;Circle of Misery&quot; added to demonstrate using lists as ring buffers.
	&quot;Lanista 1&quot; corrected to fix a truncated sentence in the commentary.
	&quot;Leopard-skin&quot; added to demonstrate a log of stored actions.
	&quot;What Makes You Tick&quot; added to demonstrate building a fishing rod from
		component parts.
	&quot;Your Mother Doesn't Work Here&quot; added to demonstrate using a list as a
		stack to plan character behavior.
The previous restriction whereby TEST scripts could not exceed 255 characters
	in length has been withdrawn. The new maximum is 9999 (a cap intended
	only to catch accidental runaway cases where the closing quote has been
	forgotten).
Problem message added to prevent the UNDO command being used in a TEST
	script (which can't safely be done since it undoes progress in the test
	itself), and also to prevent individual commands in TEST scripts from
	exceeding 100 characters (since the I6 library would choke on those).
Problem message improved for namespace clashes between variable names and
	descriptions.
Problem message added (in place of previous I6 errors) when a
	description of an action, used as a condition, refers both to the past
	and to values in the present (by means of &quot;called&quot;).
Problem message improved for an ambiguity in rule premisses as between
	a description of an actor followed by an action, and an action name
	with no actor attached. (This arose in the case of &quot;standing using ...&quot;,
	where &quot;standing&quot; had also been defined so as to describe certain people:
	was the action here &quot;standing using&quot;, done by nobody in particular, or
	&quot;using&quot;, done by a person matching &quot;standing&quot;?)
Bug fixed whereby pastes of Example text for examples including backslashes
	(such as those arising from the introduction of regular expression
	matching) and, in some cases, other unusual characters would cause
	the text to be pasted incomplete - so that it did not work as it
	was claimed to do.
Bug fixed whereby two or more consecutive double-quoted texts in a single
	table entry would lead to an internal error rather than a problem
	message; something which can happen easily if pasted text converts
	tabs to spaces, when two adjacent table columns are both supposed to
	contain text.
Bug fixed whereby a rule whose premiss involved clauses of several different
	sorts, one of them &quot;when&quot;, could sometimes produce an internal error.
Bug fixed - or, really, feature added, but the lack of it was regarded as
	peculiar - whereby an action description used in a rule was not allowed
	to give the name of a kind of value to mean &quot;any value of this kind&quot;:
	for instance, &quot;Instead of dialing something to a code symbol&quot;, where
	&quot;code symbol&quot; is a kind of value and &quot;dialing it to&quot; is an action
	applying to one thing and one code symbol.
Bug fixed whereby &quot;[']&quot; for apostrophe wasn't being allowed in titles given
	as the opening text of a bibliographic heading.
Bug fixed whereby indexed text and stored action variables were not working
	properly if they belonged to rulebooks, activities or actions.
Bug fixed whereby &quot;if there is a [table-reference]&quot; was not working in the
	case of columns holding indexed text.
Bug fixed whereby spurious &quot;no such entry&quot; run-time problems would occur if
	a table with a column holding indexed text was created with blank rows.
Bug fixed whereby ambiguous phrases requiring run-time checking on some
	arguments would sometimes go wrong if other arguments were stored
	actions or indexed text.
Bug fixed whereby if several &quot;let&quot; variables in a single phrase needed to
	be indexed text or stored actions, they would sometimes have their kinds
	of value rearranged between them, with occasionally bizarre results.
Bug fixed whereby the dynamic memory allocator would print up debugging
	information such as &quot;1+128+256+512+1024+2048+4096+8192+16384+65536&quot;
	after successfully allocating memory via Glulx's @malloc mechanism.
	Apologies for this.
Bug fixed whereby a compound phrase which looks as if it might be in the
	form &quot;total ...&quot;, counting the total of some property - but which isn't -
	would generate an internal error rather than being rejected in favour
	of some other interpretation.
Bug fixed whereby a rule predicated on a condition about something being
	listed (or not) in a table would cause I6 errors.
Bug fixed whereby an internal error rather than a problem message would
	sometimes be issued when a condition was used which had no active verb
	but could be taken as a description of things (typically arising if
	&quot;is&quot; had been mistyped as &quot;in&quot;).
Infelicity fixed whereby the problem message about minus signs being
	wrongly used in unit constants could be repeated (sometimes quite a
	few times) for the same mistake.
Problem message added (rather than I6 error or mysteriously incorrect
	behaviour) for the case of a phrase so ambiguous that at compile-time
	it is not possible to tell how many values it takes as arguments.
	The problem explains this, shows the phrases it cannot choose between,
	and invites the author to reword one of them.
Bug fixed whereby the old I6 debugging commands CHANGES and ROUTINES, which
	are no longer implemented in I7, still had their grammar visible in
	I7-compiled games, so that it was possible (but usually quickly fatal)
	to try using these commands.

</pre></font><p>
<p>
<p><hr><p><a href=doc451.html STYLE="text-decoration: none">Previous</a> / <a href=doc453.html STYLE="text-decoration: none">Next</a> / <a href=index.html STYLE="text-decoration: none">Contents</a><p></font></div>
</body>
</html>
