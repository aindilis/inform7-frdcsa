<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Inform 7 - 2.1. Varying What Is Written</title>
</head>
<body>
<div style="line-height: 18px;">

<!-- SEARCH TITLE "Numberless" -->
<!-- SEARCH SECTION "Ex 174" -->
<!-- SEARCH SORT "Ex 002-001-174" -->
<font><table><tr width="100%"><td width=80 valign="top"><a href=doc4.html border=0><img border=0 src=images/Back.png border=0></a><a href=Rindex.html border=0><img border=0 src=images/Home.png border=0></a><a href=doc6.html border=0><img border=0 src=images/Forward.png border=0></a></td><td valign="top"><b>2.1. Varying What Is Written</b></td></tr></table><p>
<p>
<p>Before getting to actual recipes, many recipe books begin with intimidating lists of high-end kitchen equipment (carbon-steel pans, a high-temperature range, a Provencal shallot-grater, a set of six pomegranate juicers): fortunately, readers who have downloaded Inform already have the complete kitchen used by the authors. But the other traditional preliminaries, about universal skills such as chopping vegetables, boiling water and measuring quantities, do have an equivalent.
<p>
<p>For us, the most basic technique of IF is to craft the text so that it smoothly and elegantly adapts to describe the situation, disguising the machine which is never far beneath the surface. This means using text substitutions so that any response likely to be seen more than once or twice will vary.
<p>
<p><b>M. Melmoth's Duel</b> demonstrates three basic techniques: an ever-changing random variation, a random variation changing only after the player has been absent for a while, and a message tweaked to add an extra comment in one special case. (Random choices can be quite specifically constrained, as <b>Ahem</b> shows in passing.) <b>Fifty Ways to Leave Your Larva</b> and <b>Fifty Times Fifty Ways</b> show how a generic message can be given a tweak to make it a better fit for the person it currently talks about. <b>Curare</b> picks out an item carried by the player to work into a message, trying to make an apt rather than random choice. <b>Straw Into Gold</b> demonstrates how to have Inform parrot back the player's choice of name for an object.
<p>
<p>Another reason to vary messages is to avoid unnatural phrasing. <b>Odins</b> carefully avoids a giveaway grammatical blunder - the kind only a computer would make. <b>Ballpark</b> turns needlessly precise numbers - another computerish trait - into more idiomatic English. (Likewise <b>Numberless</b>, though it is really an example demonstrating how to split behaviour into many cases.) <b>Prolegomena</b> shows how to use these vaguer quantifiers any time Inform describes a group of objects (as in &quot;You can see 27 paper clips here.&quot;).
<p>
<p><b>Blink</b>, a short but demanding example from the extreme end of <i>Writing with Inform</i>, shows how the basic text variation mechanisms of Inform can themselves be extended. <b>Blackout</b> demonstrates text manipulation at a lower level, replacing every letter of a room name with &quot;*&quot; when the player is in darkness.
<p>
<p>A few of Inform's included extensions provide extra control over text output, as well: Complex Listing allows us more control over the order and presentation of lists of items, and Plurality provides functions for handling pronouns and objects whose names might be understood as singular or plural.
<p>
<p>The extension Case Management used to be used for changing the case of something printed, but it is now included chiefly to support older Inform projects: now the best way to change printed text to upper, lower, sentence, or title casing is to use indexed text, as demonstrated in <b>Rocket Man</b>.
<p>
<p><hr><p>
<a name="e413"><a href=Rex413.html#e413 STYLE="text-decoration: none">*<b>Example 178:  M. Melmoth's Duel</b></a><br>Three basic ways to inject random or not-so-random variations into text.<p>
<a name="e3"><a href=Rex3.html#e3 STYLE="text-decoration: none">*<b>Example 169:  Ahem</b></a><br>Writing a phrase, with several variant forms, whose function is to follow a rule several times.<p>
<a name="e212"><a href=Rex212.html#e212 STYLE="text-decoration: none">*<b>Example 71:  Fifty Ways to Leave Your Larva</b></a><br>Using text substitution to make characters reply differently under the same circumstances.<p>
<a name="e213"><a href=Rex213.html#e213 STYLE="text-decoration: none">***<b>Example 72:  Fifty Times Fifty Ways</b></a><br>Writing your own rules for how to carry out substitutions.<p>
<a name="e100"><a href=Rex100.html#e100 STYLE="text-decoration: none">*<b>Example 428:  Curare</b></a><br>A phrase that chooses and names the least-recently selected item from the collection given, allowing the text to cycle semi-randomly through a group of objects.<p>
<a name="e362"><a href=Rex362.html#e362 STYLE="text-decoration: none">***<b>Example 294:  Straw Into Gold</b></a><br>Creating a Rumpelstiltskin character who is always referred to as "dwarf", "guy", "dude", or "man" -- depending on which the player last used -- until the first time the player refers to him as "Rumpelstiltskin".<p>
<a name="e271"><a href=Rex271.html#e271 STYLE="text-decoration: none">*<b>Example 440:  Odins</b></a><br>Making [is-are] and [it-they] say tokens that will choose appropriately based on the last object mentioned.<p>
<a name="e14"><a href=Rex14.html#e14 STYLE="text-decoration: none">***<b>Example 60:  Ballpark</b></a><br>A new "to say" definition which allows the author to say "[a number in round numbers]" and get verbal descriptions like "a couple of" or "a few" as a result.<p>
<!-- EXAMPLE START -->
<a name="e366"><a href=Rdoc5.html#e366 STYLE="text-decoration: none">*<b><b>Example</b> 174:  Numberless</b></a><br>A simple exercise in printing the names of random numbers, comparing the use of "otherwise if...", a switch statement, or a table-based alternative.<p>
<table border=0 bgcolor="#ffffc0" width=100%><tr><td><font>
<p>
<blockquote><font color="#000080">&quot;Numberless&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Rambling Warren is a room.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">When play begins:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let N be a random number between 1 and 5;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if N is 1:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;N is one.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise if N is 2:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;N is two.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise if N is 3:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;N is three.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;N is more than the number of your toes.&quot;
</font></blockquote><p>
<p>
<p>The final &quot;otherwise&quot; here will fire only if none of the earlier conditions applies; we could leave it out and print nothing in the case that N is 4 or 5.
<p>
<p>The more compact way to do this is to create a list of values that our number could match; in many programming languages this is called a switch statement. For example:
<p>
<blockquote><font color="#000080">When play begins:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let Y be a random number between 6 and 10;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if Y is:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- 6: say &quot;Six is the magic number!&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- 7: say &quot;The number of the day is seven!&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- otherwise: say &quot;Today's magic number is boring.&quot;
</font></blockquote><p>
<p>
<p>
<p>As a final option, we can use a construction we've seen only briefly before now: a table. The use of tables will be explained more fully in their own chapter, but here we see in brief that we can assign a number of values to one column of a table and then use that table to look up output:
<p>
<blockquote><font color="#000080">When play begins:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let X be a random number between 11 and 14;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if X is a number listed in the Table of Switching, say &quot;[output entry][paragraph break]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise say &quot;X is greater than the number of your noses!&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of Switching
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font color="#000080">number</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">output</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">11</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;X is eleven!&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">12</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;X is twelve!&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">13</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;X is thirteen!&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;z&quot;.
</font></blockquote><p>
<p>
<p>As we shall see, things other than text can be stored in tables, so we could also use a table as a way to look up objects or even rules to carry out.
</td></tr></table><p>
<!-- EXAMPLE END -->
<a name="e300"><a href=Rex300.html#e300 STYLE="text-decoration: none">*<b>Example 330:  Prolegomena</b></a><br>Replacing precise numbers with "some" or other quantifiers when too many objects are clustered together for the player to count at a glance.<p>
<a name="e40"><a href=Rex40.html#e40 STYLE="text-decoration: none">*<b>Example 444:  Blink</b></a><br>Making a "by atmosphere" token, allowing us to design our own text variations such as "[one of]normal[or]gloomy[or]scary[by atmosphere]".<p>
<a name="e37"><a href=Rex37.html#e37 STYLE="text-decoration: none">*<b>Example 410:  Blackout</b></a><br>Filtering the names of rooms printed while in darkness.<p>
<a name="e324"><a href=Rex324.html#e324 STYLE="text-decoration: none">*<b>Example 401:  Rocket Man</b></a><br>Using case changes on any text produced by a "to say..." phrase.<p>
<p><hr><p><a href=Rdoc4.html STYLE="text-decoration: none">Previous</a> / <a href=Rdoc6.html STYLE="text-decoration: none">Next</a> / <a href=Rindex.html STYLE="text-decoration: none">Contents</a><p></font></div>
</body>
</html>
