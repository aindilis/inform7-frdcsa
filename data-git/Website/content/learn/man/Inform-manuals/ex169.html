<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Inform 7 - 8.18. Randomness</title>
</head>
<body>
<div style="line-height: 18px;">

<!-- SEARCH TITLE "Uptown Girls" -->
<!-- SEARCH SECTION "Ex 132" -->
<!-- SEARCH SORT "Ex 008-018-132" -->
<font><table><tr width="100%"><td width=80 valign="top"><a href=doc138.html border=0><img border=0 src=images/Back.png border=0></a><a href=index.html border=0><img border=0 src=images/Home.png border=0></a><a href=doc140.html border=0><img border=0 src=images/Forward.png border=0></a></td><td valign="top"><b>8.18. Randomness</b></td></tr></table><p>
<p>
<p>Sometimes we want to introduce random behaviour into play. We usually do this by generating random values, and then acting differently depending on what they are. The following:
<p>
<blockquote><font color="#000080">a random number from 2 to 5
</font></blockquote><p>
<p>
<p>produces, as it suggests, a random number drawn from the choices 2, 3, 4 or 5, each of which is equally likely to come up. In fact, this isn't limited to numbers:
<p>
<p><p style='padding: 0.75em; border: 1px dashed #2f6fab; color: black; background-color: #e9e9e9; line-height: 1.5em; '><b>a random </b>(name of kind)<b> between </b>(arithmetic value)<b> and </b>(arithmetic value)<b></b> ... <i>value</i><br><i>or:</i> <b>a random </b>(name of kind)<b> from </b>(arithmetic value)<b> to </b>(arithmetic value)<b></b> ... <i>value</i><br><i>or:</i> <b>a random </b>(name of kind)<b> between </b>(enumerated value)<b> and </b>(enumerated value)<b></b> ... <i>value</i><br><i>or:</i> <b>a random </b>(name of kind)<b> from </b>(enumerated value)<b> to </b>(enumerated value)<b></b> ... <i>value</i><table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of ph_randombetween -->

<p>This phrase produces a uniformly random value in the range given. Examples:
<p>
<blockquote><font color="#000080">a random number from 10 to 99
<br>a random time from 2:31 PM to 2:57 PM
</font></blockquote><p>
<p>
<p>If we make a new kind of value:
<p>
<blockquote><font color="#000080">A cloud pattern is a kind of value. The cloud patterns are cumulus, altocumulus, cumulonimbus, stratus, cirrus, nimbus, nimbostratus.
</font></blockquote><p>
<p>
<p>then we can also take random values from it:
<p>
<blockquote><font color="#000080">a random cloud pattern between stratus and nimbus
</font></blockquote><p>
<p>
<p>which has three possible outcomes, all equally likely.
<p>
<!-- end definition -->
</table>
<p>
<p>We can also use random conditions:
<p>
<p><p style='padding: 0.75em; border: 1px dashed #2f6fab; color: black; background-color: #e9e9e9; line-height: 1.5em; '><i>if</i> <b>a random chance of </b>(number)<b> in </b>(number)<b> succeeds</b><i>:</i><table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of ph_randomchance -->

<p>This condition is true X/Yths of the time, where X and Y are the numbers. Example:
<p>
<blockquote><font color="#000080">if a random chance of 2 in 3 succeeds, ...
</font></blockquote><p>
<p>
<p>Here is a rule which applies only 15% of the time:
<p>
<blockquote><font color="#000080">Instead of waiting when a random chance of 15 in 100 succeeds: ...
</font></blockquote><p>
<p>
<!-- end definition -->
</table>
<p>
<p>Testing IF which makes random choices can be rather frustrating, because a problem showing up on one attempt may not show up on another. We can get around this by making use of the fact that computers do not actually generate true randomness, but instead make a sequence of apparently random numbers by applying a complicated formula to each one in order to make the next. The starting point is a number called the &quot;seed&quot;, because the next choice grows out of it.
<p>
<p><p style='padding: 0.75em; border: 1px dashed #2f6fab; color: black; background-color: #e9e9e9; line-height: 1.5em; '><b>seed the random-number generator with </b>(number)<b></b><table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of ph_seed -->

<p>This phrase changes the seed number as specified. Any random numbers generated after that depend only on the seed. Example: the following sentence will &quot;fix&quot; the process of generating these random numbers so that they are not random at all - the same sequence of random numbers will be produced on each run.
<p>
<blockquote><font color="#000080">When play begins, seed the random-number generator with 1234.
</font></blockquote><p>
<p>
<p>The seed value &quot;1234&quot; can be anything positive; a different sequence of random numbers will be produced for each different seed value. A seed value of 0 restores the RNG to properly random behaviour again.
<p>
<!-- end definition -->
</table>
<p>
<p>Alternatively, it's possible the &quot;fix&quot; the RNG by clicking the &quot;Make random outcomes predictable when testing&quot; option on the Settings panel. This makes the behaviour predictable whenever the game is played within Inform, but (unlike the rule above) has no effect on the story file once released.
<p>
<p><hr><p>
<a name="e109"><a href=ex109.html#e109 STYLE="text-decoration: none">*<b>Example 129:  Do Pass Go</b></a><br>A pair of dice which can be rolled, and are described with their current total when not carried, and have individual scores when examined.<p>
<a name="e210"><a href=ex210.html#e210 STYLE="text-decoration: none">*<b>Example 130: Lanista 1</b></a><br>Very simple randomized combat in which characters hit one another for a randomized amount of damage.<p>
<a name="e422"><a href=ex422.html#e422 STYLE="text-decoration: none">*<b>Example 131:  Weathering</b></a><br>The automatic weather station atop Mt. Pisgah shows randomly fluctuating temperature, pressure and cloud cover.<p>
<!-- EXAMPLE START -->
<a name="e169"><a href=doc139.html#e169 STYLE="text-decoration: none">***<b><b>Example</b> 132:  Uptown Girls</b></a><br>A stream of random pedestrians who go by the player.<p>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font>
<p>
<p>Suppose we have an urban space we want to populate with random passers-by. These should have a range of characteristics and not always be described in the same way; and once the player has noticed one, he should be able to look at her further, until another pedestrian crosses his path.
<p>
<blockquote><font color="#000080">&quot;Uptown Girls&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Riverside Drive is a room. &quot;There's a pleasant late-afternoon view of the Hudson, and a snap in the air, and you would rather be here than anywhere.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of going a direction, say &quot;Oh, you know where you're going; no need to deviate from the usual path.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of waiting, say &quot;You stroll along enjoying the November crispness.&quot;
</font></blockquote><p>
<p>
<p>It gets a little annoying to have a random event occurring every single turn of play, so let's introduce some randomness to determine how often the message appears:
<p>
<blockquote><font color="#000080">Every turn when a random chance of 1 in 3 succeeds:
<br>&nbsp;&nbsp;&nbsp;&nbsp;reset passerby;
<br>&nbsp;&nbsp;&nbsp;&nbsp;choose a random row in the Table of Atmospheric Events;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[event entry][paragraph break]&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of Atmospheric Events
<br>event
<br>&quot;Slowly [a passerby] strolls by, turning to look at you as she passes.&quot;
<br>&quot;Some [passerby] nearly bumps into you.&quot;
<br>&quot;You dodge to avoid [a passerby].&quot;
<br>&quot;You weave around [a passerby], who has stalled to look into a window.&quot;
<br>&quot;There's a ruckus as one of the ubiquitous taxis nearly collides with [a passerby] crossing the street.&quot;
<br>&quot;[The passerby] beside you waves to a friend across the street.&quot;
<br>&quot;To your left, [a passerby] drops her purse, and swears as she retrieves it.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Hair color is a kind of value. A person has hair color. the hair colors are red-headed, brunette, blonde.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Height is a kind of value. A person has height. The heights are tall, medium-height, short.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Grooming is a kind of value. A person has grooming. The groomings are messy and tidy.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To reset passerby:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the hair color of the passerby is a random hair color;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the height of the passerby is a random height;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the grooming of the passerby is a random grooming.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The passerby is a woman in Riverside Drive. The passerby is scenery. Understand &quot;woman&quot; or &quot;lady&quot; as the passerby. The printed name of the passerby is &quot;[one of]woman[or]lady[purely at random]&quot;.
</font></blockquote><p>
<p>
<p>At this point we borrow some techniques from later to describe the woman with a random combination of characteristics, and to let the player refer to her by those traits:
<p>
<blockquote><font color="#000080">Before printing the name of the passerby:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if a random chance of 1 in 4 succeeds, say &quot;[height] &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if a random chance of 1 in 4 succeeds, say &quot;[grooming] &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if a random chance of 1 in 4 succeeds, say &quot;[hair color] &quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand the hair color property as describing the passerby. Understand the height property as describing the passerby. Understand the grooming property as describing the passerby.
</font></blockquote><p>
<p>
<p>If we also wanted each of those combinations to mean some more specifically-described woman:
<p>
<blockquote><font color="#000080">Instead of examining a passerby:
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat through Table of Passerby Descriptions:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if hair entry is the hair color of the passerby and height entry is the height of the passerby and grooming entry is the grooming of the passerby, say &quot;[description entry][paragraph break]&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of Passerby Descriptions
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font color="#000080">hair</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">height</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">grooming</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">description</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">red-headed</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tall</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">messy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;An older woman with long red hippie-hair poking out of a ponytail in straggles, and bent to hide how tall she is.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">red-headed</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">medium-height</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">messy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;A shaggy red-head with shingled hair.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">red-headed</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">short</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">messy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;Almost an urchin, and very young, with ginger hair and a smudged nose and far too many freckles.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">red-headed</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tall</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tidy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;A precise career woman with henna-red hair.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">red-headed</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">medium-height</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tidy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;Her hair is red in the way that lollipops and fire trucks are red: not by nature but by art. The rest of her clothing is pretty ordinary, though.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">red-headed</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">short</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tidy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;Thin and small in every sense, with chin-length red-hair. Even high heels do not bring her head much above your shoulder.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">brunette</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tall</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">messy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;A Juno-esque woman with dark hair, wearing something resembling a tent.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">brunette</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">medium-height</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">messy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;An unremarkable woman with dark brown hair and the aura of needing a wash.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">brunette</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">short</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">messy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;There are mustard stains on the t-shirt of this short brown-haired woman. Estimated age ca. 40. Possibly homeless.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">brunette</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tall</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tidy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;A leggy brunette in business attire.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">brunette</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">medium-height</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tidy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;Medium-height, brown-haired, generally nondescript.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">brunette</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">short</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tidy </font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;A neat little dark-haired girl.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">blonde</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tall</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">messy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;A tall blonde of about thirteen who looks as though she has not yet figured out how to get her wardrobe to catch up with her rate of growth. Her t-shirt and her pants are too short.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">blonde</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">medium-height</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">messy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;Black leather pants and the wall-o-hair look.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">blonde</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">short</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">messy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;One of those shocking platinum blonde types, with a tiger-patterned skirt. Reeally trashy.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">blonde</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tall</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tidy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;Elfin and severe, with perfectly straight hair falling to the middle of the back.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">blonde</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">medium-height</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tidy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;A rounded, Marilyn-esque blonde.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">blonde</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">short</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">tidy</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080"> &quot;Pin-precise in a blue-and-white striped suit and a boyish haircut.&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;z / z / x passerby / z / z / x passerby&quot;.
</font></blockquote><p>
</td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><p><a href=doc138.html STYLE="text-decoration: none">Previous</a> / <a href=doc140.html STYLE="text-decoration: none">Next</a> / <a href=index.html STYLE="text-decoration: none">Contents</a><p></font></div>
</body>
</html>
