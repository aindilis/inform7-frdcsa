<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Inform 7 - 26.4. What's new in build 5U92 (September 2008)</title>
</head>
<body>
<div style="line-height: 18px;">

<!-- SEARCH TITLE "What's new in build 5U92 (September 2008)" -->
<!-- SEARCH SECTION "26.4" -->
<!-- SEARCH SORT "026-004-000" -->
<font><table><tr width="100%"><td width=80 valign="top"><a href=doc449.html border=0><img border=0 src=images/Back.png border=0></a><a href=index.html border=0><img border=0 src=images/Home.png border=0></a><a href=doc451.html border=0><img border=0 src=images/Forward.png border=0></a></td><td valign="top"><b>26.4. What's new in build 5U92 (September 2008)</b></td></tr></table><p>
<p>
<p><img border=0 hspace=5 vspace=5 align=left src=images/sep08.jpg> As this release was being prepared, King Tupou V of Tonga was crowned, but Nepal became a Republic; climbers were lost to avalanches on K2 and Mont Blanc; Australia became perplexed at winning fewer Olympic medals than Great Britain; the most wanted man in Greece, who had escaped from prison by helicopter, was recaptured; a 50-foot spider spent a week crawling at 2 mph across the Liverpool skyline, spraying random passers-by with water; and many journalists had to learn how to spell &quot;Ossetia&quot; at a time when they would rather have been watching the sports channels.
<p>
<p>In the world of Inform, a set of related improvements was made to the way adjectives, nouns and verbs combine in descriptions. This lifted many restrictions which made talking about values less flexible than talking about objects, and showed the language gradually becoming more general. In addition, directions could now be created freely. All 110 issues arising from bug reports since build 5T18 were closed out.
<p>
<p><hr><p><a href=doc64.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Conditions of things</b></font></a> for creating more than one condition for the same thing, and for giving them better names<p><p>
<a href=doc63.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Using new kinds of value in properties</b></font></a> for making either/or and value properties for values<p><p>
<a href=doc161.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>During scenes</b></font></a> for some benefits of this applying to scenes, in particular<p><p>
<a href=doc89.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Defining new adjectives</b></font></a> for defining the opposite of an adjective at the same time as the original<p><p>
<a href=doc90.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Defining adjectives for values</b></font></a> for examples of defined adjectives applying to values, and for the built-in adjectives positive, negative, even, odd, empty and non-empty<p><p>
<a href=doc137.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Counting the number of things</b></font></a> for counting the number of values matching some description<p><p>
<a href=doc178.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Repeat running through</b></font></a> for repeating through the values matching some description<p><p>
<a href=doc355.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Lists of values matching a description</b></font></a> for using &quot;list of...&quot; to bring together all values matching some description<p><p>
<a href=doc95.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Existence and there</b></font></a> for using &quot;there is&quot; or &quot;there are&quot; to talk about whether objects or values exist<p><p>
<a href=doc53.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Directions</b></font></a> for much improved facilities for creating new directions, like CLOCKWISE, STARBOARD or NNE<p><p>
<a href=doc268.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Understanding kinds of value</b></font></a> for the new Understand token &quot;[a time period]&quot;, which matches text such as 20 MINUTES or AN HOUR instead of specific times of day like MIDNIGHT or 11:24 AM<p><p>
<a href=doc249.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Blank rows</b></font></a> for the adjectives &quot;empty&quot; and &quot;non-empty&quot; as applied to tables<p><p>
<a href=doc327.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>New rulebooks</b></font></a> for the adjectives &quot;empty&quot; and &quot;non-empty&quot; as applied to rulebooks<p><p>
<a href=doc286.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>New activities</b></font></a> for the adjectives &quot;empty&quot; and &quot;non-empty&quot; as applied to activities<p><p>
<a href=doc349.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Lists and entries</b></font></a> for the adjectives &quot;empty&quot; and &quot;non-empty&quot; as applied to lists<p><p>
<a href=doc440.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Inform 6 adjectives</b></font></a> for low-level ways to define new adjectives based on I6 code rather than I7 source text<p><p>
<a href=doc439.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Inform 6 Understand tokens</b></font></a> for a new low-level way to add an I6 general parsing routine as a token of Understand grammar<p><p>
<p><hr><p><a name="e44"><a href=ex44.html#e44 STYLE="text-decoration: none">***<b>Example 160:  Bowler Hats and Baby Geese</b></a><br>Creating a category of scenes that restrict the player's behavior.<p>
<a name="e119"><a href=ex119.html#e119 STYLE="text-decoration: none">**<b>Example 150:  Elsie</b></a><br>A door that closes automatically one turn after the player opens it.<p>
<a name="e132"><a href=ex132.html#e132 STYLE="text-decoration: none">**<b>Example 124:  Extra Supplies</b></a><br>A supply of red pens from which the player can take another pen only if he doesn't already have one somewhere in the game world.<p>
<a name="e134"><a href=ex134.html#e134 STYLE="text-decoration: none">**<b>Example 258:  Fabrication</b></a><br>A system of assembling clothing from a pattern and materials; both the pattern and the different fabrics have associated prices.<p>
<a name="e264"><a href=ex264.html#e264 STYLE="text-decoration: none">**<b>Example 360:  North by Northwest</b></a><br>Creating additional compass directions between those that already exist (for instance, NNW) -- and dealing with an awkwardness that arises when the player tries to type "north-northwest". The example demonstrates a way around the nine-character limit on parsed words.<p>
<a name="e291"><a href=ex291.html#e291 STYLE="text-decoration: none">*<b>Example 363:  Pizza Prince</b></a><br>Providing a pizza buffet from which the player can take as many pieces as he wants.<p>
<a name="e404"><a href=ex404.html#e404 STYLE="text-decoration: none">**<b>Example 75:  Versailles</b></a><br>A mirror which will reflect some random object in the room.<p>
<a name="e432"><a href=ex432.html#e432 STYLE="text-decoration: none">**<b>Example 39:  The World of Charles S. Roberts</b></a><br>Replacing the ordinary compass bearings with a set of six directions to impose a hexagonal rather than square grid on the landscape.<p>
<p>
<p><p><hr><p><font size=2><pre>5U92 (10 September 2008)

This build makes a set of related improvements to the way adjectives, nouns
and verbs combine in descriptions. This lifts many restrictions which made
talking about values less flexible than talking about objects, and shows the
language gradually becoming more general. This brings only subtle (if nice
to have) improvements for authors, but improves the coherence of the design
of Inform. In addition, directions can now be created freely, fulfilling the
last outstanding promise made in the January 2007 consultation document.
There are miscellaneous minor improvements, and five months' worth of
maintenance changes. All 110 issues arising from bug reports received up to
7 September 2008 have been closed out.

INFORM FOR WINDOWS

Added a preferences dialog, allowing the tab size in the source panel to be set.
Drag and drop in the source panels now follows the usual Windows conventions:
	by default the operation is a move, and holding down the 'Ctrl' key
	during the drag makes it a copy.
Fixed a bug in the built-in Glulx interpreter that generated
	spurious timer events.
Accented characters in the user's name should no longer cause the compiler
	to crash.

INFORM FOR LINUX

Internationalized all the strings in the user interface, so that translators
	can if they wish translate these. (A Spanish translation has been started,
	thanks to Ángel Eduardo.)
The Documentation text will now still be visible when using a light-on-dark
	desktop theme.
The dialog that appears when you start the program can now be closed, in case
	you started the program by accident.
Bugs fixed that caused some preferences to revert to their default values
	every time the application started.
Bug fixed that caused a crash when deleting some items from the Skein.
Various minor bugs and crashes fixed.

NATURAL LANGUAGE

Descriptions and adjectives have each been expanded in scope, so that many
	kinds of value can now be handled in ways which previously only worked
	for objects. Specifically:
Either/or and value properties can now be given to any kind of value
	with named, enumerated outcomes. So for instance:
		A scene can be thrilling or dull.
		A scene has a text called cue speech.
	or:
		Colour is a kind of value. The colours are red, blue and green.
		A colour has a number called frequency. The frequency of a colour
		is usually 130.
	As with objects, the names of either/or properties act as adjectives
	describing a scene.
Descriptions can now talk about values as well as objects. So:
		if N is an even number, ...
		if the score is positive, ...
		let L be the list of thrilling scenes;
		repeat with S running through non-recurring scenes: ...
		if more than three scenes are dull, ...
	all now work. Repeating through and listing require that the possible
	range of the kind of value is finite - so you can't write
		let L be the list of numbers;
	(which would have to be infinite). See the chart at the bottom of the
	redesigned Kinds index page to see when repeating and listing are allowed.
The same adjective can now have multiple independent meanings, and there is
	no difficulty provided that these apply to different things. Thus a
	definition of &quot;fancy&quot; for a colour would not obstruct a definition of
	&quot;fancy&quot; for a door, for instance.
The Standard Rules now define the following adjectives for values as built-in:
		even, odd, positive, negative - for numbers
		empty, non-empty - for texts, indexed texts, tables, rulebooks,
			activities, and lists
		recurring, non-recurring, going on - for scenes
	(Note the six independent definitions of &quot;empty&quot; depending on context.)
	&quot;Recurring&quot; used to be an adjective which could be used only when creating
	a scene, as in:
		Train Stopping is a recurring scene.
	It is now an either/or property, which means we can change it at run-time:
		now Train Stopping is non-recurring;
Now that scenes can be described in flexible ways, we can use the &quot;during ...&quot;
	clause of a rule flexibly, too. For instance:
		Before going north during a dull non-recurring scene, ...
	(Previously &quot;during&quot; could only name a single explicit scene.)
There is now a short-hand way to define the antonym of an adjective, that is,
	the name of its opposite. For instance, the Standard Rules include:
		Definition: a number is even rather than odd if the remainder after
		dividing it by 2 is 0.
	The optional part here is &quot;rather than odd&quot;, which saves us writing:
		Definition: a number is odd if it is not even.
	(Note that different meanings of an adjective can have different opposites.
	We could, if we wanted, write
		Definition: a stored action is empty rather than purposeful if ...
	and then the opposite of &quot;empty&quot; would be &quot;purposeful&quot; in the context
	of stored actions, but &quot;non-empty&quot; for the other cases above.)

Inform has always supported a convenient quick way to create a property,
	sometimes specific to a single thing, which have three or more named
	possibilities:
		A fruit can be citrus, berry, melon, or pome.
	This actually makes a property called &quot;fruit condition&quot; and creates a
	new kind of value whose possibilities are enumerated as &quot;citrus&quot;, &quot;berry&quot;
	and so on. The author often never needs to use the name &quot;fruit condition&quot;,
	because the adjectives &quot;citrus&quot;, &quot;berry&quot;, ..., are convenient enough by
	themselves.
	But because Inform forms the property name in this way, there's a
	collision if two different ranges are created:
		A fruit can be unripened, ripe, overripe, or mushy.
		A fruit can be citrus, berry, melon, or pome.
	In previous builds this prevented two such conditions from existing at once
	for the same thing or kind. Inform now allows any number of conditions to
	exist independently of each other; if the author supplies an explicit name,
	that's used, and otherwise Inform automatically makes names. Thus:
		A fruit can be early, summer or late.
		A fruit can be unripened, ripe, overripe, or mushy (this is its
		squishiness property).
		A fruit can be citrus, berry, melon, or pome.
	creates three properties, called &quot;fruit condition&quot;, &quot;squishiness&quot; and
	&quot;fruit condition 2&quot; respectively.
	This means that an extension author can write, say,
		A vehicle can be brand new, roadworthy, battered or wrecked (this is
		its serviceability property).
	without &quot;using up&quot; the eventual user's ability to make his own &quot;vehicle
	condition&quot;.
	Conditions like these can be created for anything which can have a property,
	and in particular for scenes and enumerated kinds of value as well as
	for objects (see above).

It is now possible to use &quot;there&quot;, as in &quot;there is&quot; or &quot;there are&quot;, to
	talk about whether or not something exists. Here are some examples in
	assertion sentences:

		There is a room called the Shadow World.
		There is a box in the Shadow World.
		There is a jigsaw puzzle in the box.

		A coin is a kind of thing. There are two coins on the crate.
		
		Incrimination relates various things to various people. The verb to
		incriminate (he incriminates, they incriminate, he incriminated, it is
		incriminated, he is incriminating) implies the incrimination relation.

		There is a man called Mr Darcy. There is a pair of boxer shorts which
		incriminates Mr Darcy. There is a fishing rod incriminating Mr Darcy.

	And here are some examples in conditions:
	
		if there is a man, ...
		if there are vehicles, ...
		if there is nothing in the box, ...
		if there are three coins in the box, ...
		if there are exactly three coins in the box, ...
		if there are at least three coins in the box, ...
		if there is something incriminating Mr Darcy, ...
		if there is nothing incriminating Mr Darcy, ...
		if there are fewer than two things which incriminate Mr Darcy, ...

	Note that
	
		if there are three coins in the box, ...
		if there are at least three coins in the box, ...

	have the same meaning: if the number of coins in the box is four, then
	there do exist three coins in the box, which is what these are testing.
	&quot;Exactly&quot; is more precise:
	
		if there are exactly three coins in the box, ...

As some of these examples suggest, the handling of &quot;nothing&quot; has been
	improved so that it can be used in a wider range of contexts, and a few
	bugs have been fixed in the process. For instance, the following now works:
	
		now nothing incriminates Mr Darcy;
	
	And similarly for &quot;nowhere&quot;, &quot;nobody&quot;, &quot;no-one&quot; and even &quot;no one&quot; -

		now nobody in the Temple is surprised;
		if nowhere is dark, ...
		if no one is in the Temple Annexe, ...

It has always been legal to use &quot;not all&quot; in a condition - for instance,
		if not all of the coins are in the box, ...
	&quot;Not every&quot; has been added, so that this has the same meaning:
		if not every coin is in the box, ...
	And similarly, we can now if we wish write
		if not more than four coins are in the box, ...
	or (equivalently)
		if not fewer than six coins are in the box, ...
		if not less than six coins are in the box, ...
	Those are the only determiners to which &quot;not&quot; can be applied. So this,
	for instance, continues not to be allowed:
		if not some of the coins are in the box, ...
There was previously a hard limit of 32 on the maximum number of relations
	&quot;in groups&quot; which could be created in any single compilation: this has
	been removed and there is now no limit.
The relation which tests whether two things are equal now has a name: it is
	the &quot;equality&quot; relation. So for instance it's now possible to define -
		The verb to be identical to implies the equality relation.
	(There's no obvious reason for doing this, but it was anomalous that it
	couldn't be done before.)
When a verb is created in the form &quot;to be able to...&quot;, as the Standard Rules
	does with the line:
		The verb to be able to see (he is seen) implies the visibility relation.
	then the following prepositional forms can be used:
		&quot;to be able to see&quot;
		&quot;to be unable to see&quot;
		&quot;to be able to be seen by&quot;
		&quot;to be unable to be seen by&quot;
	The last of these, &quot;to be unable to be seen by&quot;, did not work in previous
	builds, having been overlooked. So it is now possible to write, e.g.,
		if Peter is unable to be seen by Paul, ...
		if Peter had not been unable to be seen by Paul, ...

DIRECTIONS

Directions have been reformed. In earlier builds it was difficult to create new
	directions (and the documentation officially said that this could not be
	done at all); I6 hacks were needed, and the results sometimes failed.
	Directions can now be created freely, or at any rate pairs of them can:

		Turnwise is a direction. The opposite of turnwise is widdershins.
		Widdershins is a direction. The opposite of widdershins is turnwise.

	- To create a direction, a simple sentence in the form &quot;X is a direction.&quot;
		must be given.
	- Each direction has to have a value for the &quot;opposite&quot; property, which
		has to be another direction; these must be in matched opposing pairs.
	- The maximum length of a direction name used to be 1 (i.e., they had to
		be single words); now it is 3.
	- The maximum number of directions used to be 16; now it is 100.
	- New directions are exactly as good as old ones: for instance we can
		write &quot;to be mapped turnwise of&quot;, or use route-finding through new
		directions.
	- Each direction automatically makes a relation, the &quot;mapping-turnwise
		relation&quot; (or similar), which is the meaning of &quot;to be mapped
		turnwise of&quot;. This enables us to define prepositional forms; for
		instance, the Standard Rules includes the line:
			The verb to be above implies the mapping-up relation.
	- The I6 implementation beneath the surface is new: there are no &quot;n_to&quot;,
		&quot;s_to&quot;, etc., I6 properties any longer; the &quot;door_dir&quot; property for
		doors now holds a direction object, not a direction property as it did
		in the I6 library; the map is stored in a flat array instead. See
		the template file &quot;WorldModel.i6t&quot;.

MINOR NEW FEATURES

Scenes can now be said - that is, if X is a scene, then &quot;[X]&quot; now expands
	to the name of the scene.
It is now possible to have &quot;let&quot; and global variables of the kind of value
	&quot;sound-name&quot;, which hold sound effects. (The default value for this is
	a special silent sound, the playing of which has no effect, but which
	is present in all compilations regardless of whether they use sounds
	or not.) And similarly for &quot;figure-name&quot; and &quot;external-file&quot;. &quot;Scene&quot;,
	which up to now could be held in a global but not a local variable
	(an oversight) can now be either.
Truth states (both of them) can now be understood, so actions can be made
	which are applicable to them, and &quot;[truth state]&quot; is a valid Understand
	token.
The Understand token &quot;[a time]&quot; matches a time of day, such as &quot;10:15 AM&quot;
	or &quot;midnight&quot;. But the &quot;time&quot; kind of value can hold relative times as
	well as absolute ones -- for instance, 10 minutes is a time, but it is
	not recognised by &quot;[a time]&quot; since it isn't a specific moment in the day.
	A new Understand token called &quot;[a time period]&quot; has been added for this,
	so for instance
		Understand &quot;wait for [a time period]&quot; as ...
	would match WAIT FOR AN HOUR or WAIT FOR TWO HOURS 12 MINUTES.
The handling of mixed-case notations has been improved - for instance, given
		Acidity is a kind of value. pH 7 specifies an acidity.
	the &quot;p&quot; will always be printed in lower case, and the &quot;H&quot; upper case.
	Printing back always respects the case in the original specification;
	but parsing is always case-insensitive.
Repeating through tables used to carry the risk that if something in the body
	of the loop changed the row selection, the loop would break, since it used
	the row selection itself as an iterating variable. This has been corrected.
	A &quot;repeat through&quot; loop can now be nested inside other &quot;repeat through&quot;
	loops; the body of the loop can change the row selection without harm;
	moreover, a &quot;repeat through&quot; loop preserves the row selection, so that
	on exit, the same row (if any) is selected as was selected before the
	loop began.
When tables are sorted &quot;in random order&quot;, blank rows are now automatically
	moved to the bottom. The non-blank rows occur in a uniformly random order
	at the top of the table.
When &quot;Include ... instead of ...&quot; is used to replace a part or segment from
	the I6 template, a subsequent &quot;include... instead...&quot; on the same part or
	segment now overrides an earlier one. (In 5T18 both would be applied, but
	this almost never led to valid I6 code, and it's hard to think of
	circumstances when users would want that behaviour.) It continues to
	be the case that &quot;Include ... after ...&quot; and &quot;... before ...&quot; allow
	multiple inclusions attached to the same part or segment.

INTERFACE TO I6 INTERNALS

There are now two ways to specify that an adjective is defined at the I6 level:
		Definition: a rulebook is empty rather than non-empty if I6 routine
			&quot;RulebookEmpty&quot; says so (it contains no rules, so that following
			it does nothing and makes no decision).
	The part in brackets does nothing, but is the text used in the Phrasebook
	index for the user's benefit; it should be a brief definition. The I6
	routine should take one parameter, the value on which the adjective is
	being tested, and should return true or false as appropriate.
		Definition: a rulebook is exciting if I6 condition
			&quot;excitement_array--&gt;*1==1&quot; says so (it is really wild).
	The condition is given as a &quot;schema&quot;, in which the escape &quot;*1&quot; is
	expanded to the value on which the adjective is being tested. (This is
	usually faster than calling a routine, but in case of side-effects, the
	*1 should occur only once in the condition, just as with a C macro.)
The &quot;translates into I6 as&quot; verb now has another possible use: for Understand
	tokens. This is how the Standard Rules sets up the new &quot;[a time period]&quot;
	token, for instance:
		The Understand token a time period translates into I6 as
		&quot;RELATIVE_TIME_TOKEN&quot;.
	(The I6 routine of this name can be found in the Time.i6t template file.)
	This might be of use to extensions which want to add very rich parsing
	possibilities which break existing conventions.

PERFORMANCE

The run-time storage of relations, kind membership and the map has been
	made slightly more efficient. The gain has been used to make projects with
	&quot;use memory economy&quot; in force run a little faster - previously, memory
	economy blocked Inform from generating faster searches through objects
	by using precompiled linked lists. That still leaves a memory saving of
	around 2.5K in a completely full Z-machine story file. This is not as
	ridiculous as it sounds, since the Z-machine has only 64K of dynamic
	memory to play with, and this tends to be the limiting factor on the
	size of projects which Z can handle. A minimal I7 project needs 24K of
	this, so a saving of 2.5K out of the remaining 40K represents room for
	maybe a 6% larger design. (Of course for Glulx projects this is all
	irrelevant - there are really no size limits at all.)

Some users observed that the 5T18 build compiled more slowly, and this was
	a large enough effect to make a considerable difference to novel-sized
	projects (with 200,000-word source texts). This proved to be an accidental
	side-effect of internal consistency checks only really needed when
	debugging Inform itself. This has been fixed, and large projects should
	once again compile at roughly the same speed as in 5J39 and previous
	builds.

MAINTENANCE

Problem messages added for attempts to write constant values in notations
	where the second or subsequent numerical element runs out of the legal
	range, or where the total value exceeds the maximum or minimum range
	which Glulx can hold. (There was already a similar check for Z-machine
	projects - for Glulx, of course, the bounds are larger.)
Similarly, run-time parsing of values in such notations is also checked
	more carefully to see that it remains in range.
Finally, the Kinds page of the Index now quotes the maximum possible
	value for both Z-machine and Glulx use. (It previously quoted this only
	for Z, thus giving a misleading answer if Glulx was used.)
Problem message added to explain what's wrong when the source text tries to
	provide command grammar for a word reserved as an Inform testing command,
	such as SHOWME. (And the indexing of these reserved commands on the
	Actions index page has also been improved.)
Problem message improved when &quot;try&quot; is applied to something which ought to
	be a valid action, but which isn't for type-checking purposes - for
	instance,
		try taking 22;
Problem message added (in place of an internal error) to catch cases where
	a verb is missing from a condition so that it otherwise forms a
	description with no obvious subject:
		if the player not carrying a thing, ...
	(which of course is missing an &quot;is&quot;.)
Problem message added to block the use of &quot;called&quot; when it is being used
	only to rename one specific item, e.g.,
		if the Z-Boson Destructorator (called the gun) is carried, ...
	Previously this sometimes worked, but sometimes didn't, and in any case
	wasn't ideal from a stylistic point of view.
Problem message added to block the use of implications based on information
	not available at compile-time, such as:
		A room in the Garden is usually lighted.
	(Previously this disregarded the relation information - the &quot;in the Garden&quot;
	part - and therefore wrongly read the sentence as &quot;A room is usually
	lighted&quot;, a valid but different implication.)
Problem message added to catch attempts to equate two kinds of variable, as in:
		The stored actions variable is a truth state that varies.
	(This has happened because the user didn't realise that &quot;stored actions
	variable&quot; was a general category of variables, and thus not a good name
	to choose for a specific one. In 5T18 it produced an internal error.)
Problem message added to object to saying that things are to be defined by
	a table, but also saying how many there are (which may of course be in
	conflict with the number of rows in the table):
		Three berries on the bush are defined by the Table of Tasty Berries.
	The word &quot;three&quot; is either redundant or contradicts what the Table says,
	and the problem message says it should be removed, e.g., by writing:
		Some berries on the bush are defined by the Table of Tasty Berries.

Run-time problem message added to explain why only things can be moved during
	play (not for instance rooms, regions or directions). (Although people very
	seldom try this deliberately, they do sometimes accidentally ask for it
	because of misunderstandings about short forms of names of rooms.)

Bug fixed whereby a small number of rules formed like this one:
		Before printing the name of an object: say &quot;Print.&quot;
	would cause a spurious internal error; and similarly for rules such as
		Before listening to nothing: ...
	which can't in fact be useful (because &quot;listening&quot; always takes a noun),
	but ought not to trip over the compiler; and similarly for clauses
	such as:
		Instead of going east by nothing: ...
	in which optional details are added to an action (and these can indeed
	be useful: this example means going east on foot, i.e., with no vehicle).
	This was all one single bug, and was the one most experienced by users
	of 5T18 - apologies.
Bug fixed whereby and &quot;[end if]&quot; adjacent to an &quot;[or]&quot; in text, as here:
		&quot;[one of][if the location is Lab]Lab[end if][or]blah[at random]&quot;
	would cause an I6 compilation error. This was another very popular one.
Bug fixed whereby &quot;try&quot; with an action which applies to a topic would not
	work if applied to a snippet variable, so, for instance,
		try asking Bob about the topic understood;
	would fail.
Bug fixed whereby large rulebooks would in some cases misfile rules which
	depended on a single action _not_ being the current one, such as:
		Before doing something other than examining to the mercenary: ...
	(While this was a serious bug, it occurred only rarely, depending on
	complicated combinations of other rules also being in force.)
Bugs fixed to do with table columns holding indexed text, so that some attempts
	to look for corresponding values, or to search for values, or to copy a
	non-blank value into a blank, would fail with spurious run-time problem
	messages.
Bug fixed whereby sections replacing those in extensions:
		Section 1 - New foo (in place of Section 1 - Foo in Bar by Tina Banana)
	were not in fact always doing so in 5T18; and relatedly, when such
	heading tricks were used, were sometimes causing source text to be lost
	from the main text, resulting in spurious problem messages complaining
	that no room had been created. (It had, but in a sentence wrongly removed.)
Bug fixed whereby paragraph spacing would go wrong - usually with the expected
	gap between paragraphs going missing - in cases where a text substitution
	is defined which itself includes a &quot;[paragraph break]&quot; substitution. For
	instance, redefining:
		To say p -- running on: 
			say paragraph break.
	ought to give &quot;[p]&quot; exactly the same effect as &quot;[paragraph break]&quot;, but in
	5T18 the spacing after &quot;[p]&quot; would in some cases go missing.
Bug fixed whereby &quot;resume the game&quot;, a phrase to be used in the &quot;when play
	ends&quot; rulebook to cause it not to end but to carry on after all, had
	stopped working. Particular apologies for this: we hadn't realised that
	nothing in the 5T18 test suite verified its behaviour.
Bug fixed whereby the &quot;carrying capacity&quot; for a container or supporter could
	not be read without run-time problem messages if it was not set explicitly
	in the source text. (It should have, and now does, default to 100.)
Bug fixed whereby a container called &quot;sack&quot; would sometimes wrongly be treated
	as if it were a player's holdall, if it were carried alongside a genuine
	player's holdall.
Bug fixed whereby a rule depending on something having happened for a small
	number of times only would not always apply if the action is silent, e.g.,
		Instead of taking the top hat less than three times:
		say &quot;The top hat resists!&quot;
	...would fail to apply if the top hat were being taken silently as a
	result of a command like WEAR HAT. (Apologies: this bug was introduced
	inadvertently as part of a bug fix made in 5T18, and did not occur in
	earlier builds.)
Bug fixed whereby the Standard Rules read
		A door is never pushable between rooms.
	instead of
		A backdrop is never pushable between rooms.
	(Both are true. In 5T18, the sentence was given for doors twice and for
	backdrops not at all.)
Bug fixed whereby the Standard Rules wrongly put the &quot;switch the story
	transcript off rule&quot; in the &quot;carry out switching the story transcript
	on rulebook&quot;, not the one for &quot;...off&quot;, so that in 5T18 the transcript
	once started couldn't be stopped.
Bug fixed whereby table sorting might fail if the table contained consecutive
	blank rows within the body of non-blank rows.
Bug fixed whereby the phrase
		let maximum score be a number;
	which fails because &quot;maximum score&quot; is already a global variable, so can't
	be a temporary one as well, would give both a problem message and also an
	internal error. It now just gives the problem message.
Bug fixed whereby source text such as:
		The Lab is a room. The barrel is a vehicle in the Lab. Sir John is a
		man in the barrel. The player is Sir John. The player is in the barrel. 
	would create a bogus &quot;yourself&quot; object in the barrel, other than Sir John.
Bug fixed whereby Understand grammar using &quot;[any ...]&quot; would wrongly match
	all items within those specified, as well as the items themselves. For
	instance, &quot;[any adjacent room]&quot; would match not just the rooms, but also
	their contents. Apologies for this bug, which was introduced by accident
	in the template rewrite for 5T18.
Bug fixed whereby rules depending on actions which involve the text of the
	player's command would sometimes throw internal errors if they also
	required the use of named &quot;Understand&quot; tokens which weren't used in any
	of the ordinary command verb grammar. For instance:
		Understand &quot;i7&quot; or &quot;inform&quot; or &quot;inform 7&quot; as &quot;[inform]&quot;.
		After asking Edsger about &quot;[inform]&quot;:
			say &quot;Projects promoting programming in 'natural language' are
				intrinsically doomed to fail.&quot;
Bug fixed whereby &quot;does the player mean&quot; rules would sometimes disambiguate
	the second noun of an action as if it were the first, in cases where
	the action uses &quot;[things inside]&quot; or &quot;[other things]&quot; as the first token
	(which the inserting action does, in particular). The documentation does
	warn that this might not work; it will now sometimes work, with care.
Bug fixed whereby a table with a number but not a name (say, &quot;Table 5&quot;) could
	not be referred to elsewhere in the source in the same form (e.g.,
	&quot;The utensils are defined by Table 5&quot;).
Bug fixed whereby &quot;does the player mean&quot; rules would not be applicable to
	going actions implied by commands consisting of a direction alone, such
	as SOUTH.
Bug fixed whereby, in complicated circumstances, two ordinarily identical
	things are wrongly considered still identical even after one has
	changed its property value for a property declared as describing them.
	(But only where this property is inherited from a mutual kind, which
	in turn has other &quot;Understand&quot; grammar defining it.)
Bug fixed whereby releasing a project with both a website and auxiliary files
	would produce links in the website which, though working for some browsers,
	failed for others, and which were local &quot;file:&quot; links rather than &quot;http:&quot;,
	so that the result would not work when uploaded.
Bug fixed whereby an UNDO which takes us back to a position where the player
	is in darkness would print the location as &quot;(darkness object)&quot; rather
	than running the appropriate activity to describe darkness.
Bug fixed whereby &quot;Use authorial modesty&quot; did not always work when given
	in the main source text of a work by an author wanting to be modest
	about his own extensions, included from it.
Bug fixed whereby negative values of literals would sometimes be printed
	incorrectly (e.g., &quot;-10.123&quot; might be printed &quot;-10.00-123&quot;).
Bug fixed whereby in rare cases the text of previous commands might be
	mingled with the text of a literal value being read in the current
	command.
Bug fixed whereby conditions for start and end of scenes would not properly
	work if they needed to manipulate indexed text, lists or stored actions,
	either throwing spurious problem messages or simply failing to match.
Bug fixed whereby, similarly, conditions for start and end of scenes would
	throw spurious internal errors if they contained table lookups.
Bug fixed whereby complex specifications of &quot;in the presence of&quot; people
	which involve callings or manipulate similarly complicated values would
	cause internal errors.
Bug fixed whereby relations applied to kinds rather than instances would in
	some cases throw an internal error rather than generate a problem message
	as being too unspecific:
		A supporter usually allows sitting.
Bug fixed whereby memory allocation would sometimes fail, in Glulx, when
	existing memory was sufficient but too fragmented to hold a large single
	block of data.
Bug fixed whereby Inform would refuse to create &quot;let&quot; variables called &quot;nd&quot;,
	&quot;st&quot; or &quot;th&quot;. (Exercise for the reader: can you guess why?)
Bug fixed whereby &quot;Understand ... when ...&quot; sentences would sometimes, if
	the condition was invalid, throw an internal error as well as a problem
	message.
Bug fixed whereby the sentence
		Here is everywhere.
	would crash Inform rather than produce an outraged problem message.
	(Yes, somebody tried this.)
Bug fixed whereby extension documentation would be wrongly punctuated around
	displayed example source text which contained explicit I6 inclusions,
	with a spurious &quot;-)&quot; to close the I6 inclusion, added at the wrong point.
Bug fixed whereby spurious &quot;details&quot; icons appeared after the names of kinds
	in the Lexicon index.
Bug fixed to do with the status line sometimes disappearing on the Z-machine.
Bug fixed to do with cursor movements in unusual font sizes in v6 of the
	Z-machine.
On Glulx works only, the &quot;emphasised&quot; type style now has the style hints
	weight 0 and oblique 1 set automatically when Glulx starts up: the point
	of this is that I7 uses this style to implement the text substitution
	&quot;[italic type]&quot;. (Yes, yes, so the 5T18 change log made the same promise.
	But with any luck it will work this time.)

EXAMPLES AND EXTENSIONS

Examples:
	Added &quot;Fabrication&quot; to demonstrate the use of values which themselves have
		properties.
	Added &quot;Bowler Hats and Baby Geese&quot; to demonstrate the use of scenes with
		properties.
	Added &quot;Elsie&quot; to demonstrate a sliding door that closes automatically
		after being open for one turn.
	Added &quot;Versailles&quot; to demonstrate a mirror the player can look into.
	Added &quot;Pizza Prince&quot; to demonstrate a near-infinite supply from which
		the player can go on taking instances.
	Added &quot;Extra Supplies&quot; to demonstrate a supply from which the player
		can take one instance at a time.
	Added &quot;North by Northwest&quot; to demonstrate compass directions between
		the usual set, and how to deal with the nine-character limit on names.
	Added &quot;The World of Charles S. Roberts&quot; to demonstrate a hexagonal
		direction system.
	Modified &quot;Copper River&quot;, &quot;One Short Plank&quot;, &quot;Mr. Burns' Repast&quot;, &quot;Yolk
		of Gold&quot;, &quot;Depth&quot;, and &quot;Xylan&quot; to use the new &quot;there is...&quot; syntax in
		places where the old syntax seemed a bit stilted.
	Modified &quot;Solitude&quot; to correct some errors in the comments caused by an
		over-zealous search and replace when truth states were introduced.
	Modified &quot;Copper River&quot; to list all objects explicitly while taking
		inventory, even if they are otherwise referred to as &quot;assorted dull
		items&quot;.
	Modified &quot;Bumping into Walls&quot; to get rid of some inelegant grammar in
		the definition of viable directions, which is no longer necessary
		because of syntax improvements.
	Rewrote &quot;Fore&quot; completely to take advantage of new direction-defining
		abilities, rather than presenting the rather hackish methodology
		originally on offer.

Extensions:
	&quot;Glulx Text Effects&quot; updated to deal with an indentation bug. The version
		number is now 3.
	&quot;Glulx Entry Points&quot; updated to handle a bug introduced by the treatment
		of templates. The version number is now 6.
	&quot;Locksmith&quot; edited to bring conditional syntax in line with the new
		Pythonesque standard, and (more importantly) to give explicit names
		to a couple of rules that still lacked them. Version number is now 7.

Recipe Book:
	Expanded the contents of the section on ending the game to lay out more
		of the ways in which the final text can be altered.


</pre></font><p>
<p>
<p><hr><p><a href=doc449.html STYLE="text-decoration: none">Previous</a> / <a href=doc451.html STYLE="text-decoration: none">Next</a> / <a href=index.html STYLE="text-decoration: none">Contents</a><p></font></div>
</body>
</html>
