<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Inform 7 - 3.12. Doors</title>
</head>
<body>
<div style="line-height: 18px;">

<!-- SEARCH TITLE "Garibaldi 1" -->
<!-- SEARCH SECTION "Ex 21" -->
<!-- SEARCH SORT "Ex 003-012-021" -->
<font><table><tr width="100%"><td width=80 valign="top"><a href=doc38.html border=0><img border=0 src=images/Back.png border=0></a><a href=index.html border=0><img border=0 src=images/Home.png border=0></a><a href=doc40.html border=0><img border=0 src=images/Forward.png border=0></a></td><td valign="top"><b>3.12. Doors</b></td></tr></table><p>
<p>
<p>The map of an interactive fiction is the layout of rooms and the entrances and exits which connect them. So far, these map connections have always run from one room to another, like so:
<p>
<blockquote><font color="#000080">The Painted Room is north of the Undertomb.
</font></blockquote><p>
<p>
<p>However, we can also interpose doors between rooms, like so:
<p>
<blockquote><font color="#000080">The heavy iron grating is east of the Orchard and west of the Undertomb. The grating is a door.
</font></blockquote><p>
<p>
<p>The second sentence is needed since otherwise Inform will take &quot;heavy iron grating&quot; to be the name of a third room, whereas what we want is for the grating to be something physically present in both the Orchard and in the Undertomb, and acting as a conduit between them. To this end it needs to be a &quot;door&quot;, a kind we have not so far seen. In the absence of any other instruction, a newly created door will be fixed in place, closed and openable.
<p>
<p>The grating really does come in between the two rooms: the grating is what lies immediately east of the Orchard, not the Undertomb room. So if we wrote the following:
<p>
<blockquote><font color="#000080">The Undertomb is east of the Orchard. The heavy iron grating is east of the Orchard and west of the Undertomb. The grating is a door.
</font></blockquote><p>
<p>
<p>then Inform would say that this is a contradiction: we said the Undertomb was east of the Orchard, but then we said that the grating was east of the Orchard.
<p>
<p>Inform's &quot;door&quot; kind can be used for all manner of conduits, so the word door need not be taken literally. In Ursula K. LeGuin's beguiling novel &quot;The Tombs of Atuan&quot;, from which the above rooms are stolen, it is not a grating which interposes, but:
<p>
<blockquote><font color="#000080">The red rock stair is east of the Orchard and above the Undertomb. The stair is an open door. The stair is not openable.
</font></blockquote><p>
<p>
<p>In real life, most doors are two-sided, and can be used from either of the rooms which they join, but this is not always convenient for interactive fiction. Here is a one-sided door:
<p>
<blockquote><font color="#000080">The blue door is a door. It is south of Notting Hill. Through it is the Flat Landing.
</font></blockquote><p>
<p>
<p>(Note the use of &quot;it&quot; here as an optional abbreviation.) This will make a door visible only on the Notting Hill side; no map connection will be made in the reverse direction, unless we ask for one.
<p>
<p>So much for creating and describing individual doors. Once we need to write about doors in general, we are likely to want a way to find out where a given door sits in the map. The following phrases reveal this:
<p>
<p><p style='padding: 0.75em; border: 1px dashed #2f6fab; color: black; background-color: #e9e9e9; line-height: 1.5em; '><b>front side of </b>(object)<b></b> ... <i>room</i><table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of ph_frontside -->

<p>This phrase produces the first of the one or two rooms containing a door - first in the order given in the source text. Example: if
<p>
<blockquote><font color="#000080">The red rock stair is east of the Orchard and above the Undertomb.
</font></blockquote><p>
<p>
<p>then &quot;front side of the red rock stair&quot; produces the Orchard. For a one-sided door, this produces the only room containing the door.
<p>
<!-- end definition -->
</table>
<p>
<p><p style='padding: 0.75em; border: 1px dashed #2f6fab; color: black; background-color: #e9e9e9; line-height: 1.5em; '><b>back side of </b>(object)<b></b> ... <i>room</i><table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of ph_backside -->

<p>This phrase produces the last of the one or two rooms containing a door - last in the order given in the source text. Example: if
<p>
<blockquote><font color="#000080">The red rock stair is east of the Orchard and above the Undertomb.
</font></blockquote><p>
<p>
<p>then &quot;back side of the red rock stair&quot; produces the Undertomb. A one-sided door has no &quot;back side.&quot;
<p>
<!-- end definition -->
</table>
<p>
<p>More often, we are dealing with a door and want to know what it leads to, but that depends where we're standing:
<p>
<p><p style='padding: 0.75em; border: 1px dashed #2f6fab; color: black; background-color: #e9e9e9; line-height: 1.5em; '><b>other side of </b>(door)<b> from </b>(room)<b></b> ... <i>object</i><table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of ph_othersideof -->

<p>This phrase produces the room on the other side of the door, as seen from the given vantage point, which needs to be one of its sides. Example: if
<p>
<blockquote><font color="#000080">The red rock stair is east of the Orchard and above the Undertomb.
</font></blockquote><p>
<p>
<p>then &quot;other side of the red rock stair from the Undertomb&quot; produces the Orchard, and vice versa.
<p>
<!-- end definition -->
</table>
<p>
<p><p style='padding: 0.75em; border: 1px dashed #2f6fab; color: black; background-color: #e9e9e9; line-height: 1.5em; '><b>direction of </b>(door)<b> from </b>(room)<b></b> ... <i>object</i><table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of ph_directionofdoor -->

<p>This phrase produces the direction in which the door leads, as seen from the given vantage point, which needs to be one of its sides. Example: if
<p>
<blockquote><font color="#000080">The red rock stair is east of the Orchard and above the Undertomb.
</font></blockquote><p>
<p>
<p>then &quot;direction of the red rock stair from the Undertomb&quot; produces up.
<p>
<!-- end definition -->
</table>
<p>
<p><hr><p><a href=doc99.html STYLE="text-decoration: none"><font color=\"#000000\"><img border="0" style="height: 15px; width: 13px;" alt="*" src='images/diamond.png'>&nbsp;See <b>Adjacent rooms and routes through the map</b></font></a> for more phrases which can look at the current map layout<p><p>
<p><hr><p>
<a name="e54"><a href=ex54.html#e54 STYLE="text-decoration: none">*<b>Example 19: Disenchantment Bay 5</b></a><br>Disenchantment Bay: adding the door and the deck to our charter boat.<p>
<a name="e24"><a href=ex24.html#e24 STYLE="text-decoration: none">**<b>Example 20:  Escape</b></a><br>Window that can be climbed through or looked through.<p>
<!-- EXAMPLE START -->
<a name="e161"><a href=doc39.html#e161 STYLE="text-decoration: none">***<b><b>Example</b> 21: Garibaldi 1</b></a><br>Providing a security readout device by which the player can check on the status of all doors in the game.<p>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font>
<p>
<p>Suppose we would like to allow the player to view the status of all the doors functioning in the game; and we want to identify those doors by mentioning which two rooms they connect. The following uses some techniques that will be covered in later chapters, but the basic idea may be obvious:
<p>
<blockquote><font color="#000080">&quot;Garibaldi&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The security readout is a device. The description of the readout is &quot;The screen is blank.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of examining the switched on security readout:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;The screen reads: [fixed letter spacing]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say line break;
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with item running through doors:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say line break;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;  [item] ([front side of the item]/[back side of the item]): [if the item is locked]LOCKED[otherwise]UNLOCKED[end if]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say variable letter spacing;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say paragraph break.
</font></blockquote><p>
<p>
<p>It is more or less arbitrary which room winds up as the &quot;front side&quot; and which as the &quot;back&quot;, but in this case it hardly matters.
<p>
<blockquote><font color="#000080">The player carries the security readout.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Docking Bay is a room. The inner airlock is a door. It is north of the Docking Bay and south of the Zocalo. The inner airlock is lockable and unlocked.  The outer airlock is lockable and locked. It is a door. It is south of the Docking Bay and north of Space.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The quarantine seal is a door. It is west of the Zocalo and east of Medlab. Quarantine seal is locked.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The security pass unlocks the inner airlock. The player carries the security pass.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;x readout / turn on readout / x readout / lock inner airlock with security pass / x readout&quot;.
</font></blockquote><p>
</td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><p><a href=doc38.html STYLE="text-decoration: none">Previous</a> / <a href=doc40.html STYLE="text-decoration: none">Next</a> / <a href=index.html STYLE="text-decoration: none">Contents</a><p></font></div>
</body>
</html>
