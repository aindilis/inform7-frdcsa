<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Inform 7 - 11.16. New conditions, new adjectives</title>
</head>
<body>
<div style="line-height: 18px;">

<!-- SEARCH TITLE "Owen's Law" -->
<!-- SEARCH SECTION "Ex 179" -->
<!-- SEARCH SORT "Ex 011-016-179" -->
<font><table><tr width="100%"><td width=80 valign="top"><a href=doc182.html border=0><img border=0 src=images/Back.png border=0></a><a href=index.html border=0><img border=0 src=images/Home.png border=0></a><a href=doc184.html border=0><img border=0 src=images/Forward.png border=0></a></td><td valign="top"><b>11.16. New conditions, new adjectives</b></td></tr></table><p>
<p>
<p>We can create new conditions by defining a phrase with &quot;to decide whether&quot; (or equivalently &quot;to decide if&quot;):
<p>
<blockquote><font color="#000080">To decide whether danger lurks:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if in darkness, decide yes;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the Control Room has been visited, decide no;
<br>&nbsp;&nbsp;&nbsp;&nbsp;decide yes.
</font></blockquote><p>
<p>
<p>If the player is indeed in darkness, the decision is &quot;yes&quot; because the &quot;decide yes&quot; stops the process right there. We can now write, for instance,
<p>
<blockquote><font color="#000080">if danger lurks, ...
</font></blockquote><p>
<p>
<p>In fact, &quot;danger lurks&quot; is now a condition as good as any other, and can be used wherever a condition would be given. Rules can apply only &quot;when danger lurks&quot;, for instance.
<p>
<p><p style='padding: 0.75em; border: 1px dashed #2f6fab; color: black; background-color: #e9e9e9; line-height: 1.5em; '><b>yes</b><br><i>or:</i> <b>decide yes</b><table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of ph_yes -->

<p>This phrase can only be used in the definition of a phrase to decide whether a condition holds. It ends the decision process immediately and makes the condition true.
<p>
<!-- end definition -->
</table>
<p>
<p><p style='padding: 0.75em; border: 1px dashed #2f6fab; color: black; background-color: #e9e9e9; line-height: 1.5em; '><b>no</b><br><i>or:</i> <b>decide no</b><table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of ph_no -->

<p>This phrase can only be used in the definition of a phrase to decide whether a condition holds. It ends the decision process immediately and makes the condition false.
<p>
<!-- end definition -->
</table>
<p>
<p>We can also supply definitions of adjectives like this. So far, new adjectives have been defined like so:
<p>
<blockquote><font color="#000080">Definition: a supporter is occupied if it is described and something is on it.
</font></blockquote><p>
<p>
<p>If we want to give a definition which involves more complex logic, we can use a special form allowing us to make arbitrary decisions. In this longer format, the same definition would look like so:
<p>
<blockquote><font color="#000080">Definition: a supporter is occupied:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if it is undescribed, decide no;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if something is on it, decide yes;
<br>&nbsp;&nbsp;&nbsp;&nbsp;decide no.
</font></blockquote><p>
<p>
<p>Here &quot;it&quot; refers to the supporter in question. Note that there are now two colons in this sentence, one after &quot;Definition&quot;, the other after the clause being defined. But that apart, it's a phrase like any other: it must end in &quot;yes&quot; or &quot;no&quot; just as the &quot;danger lurks&quot; example must. &quot;Decide no&quot; and &quot;decide yes&quot; are needed so often that they can be abbreviated by leaving out &quot;decide&quot;:
<p>
<blockquote><font color="#000080">Definition: a supporter is occupied:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if it is undescribed, no;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if something is on it, yes;
<br>&nbsp;&nbsp;&nbsp;&nbsp;no.
</font></blockquote><p>
<p>
<p><hr><p>
<!-- EXAMPLE START -->
<a name="e276"><a href=doc183.html#e276 STYLE="text-decoration: none">***<b><b>Example</b> 179:  Owen's Law</b></a><br>OUT always means "move to an outdoors room, or else to a room with more exits than this one has"; IN always means the opposite.<p>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font>
<p>
<p>Suppose we want the game to interpret &quot;GO OUT&quot; as &quot;move towards an outdoors room, or towards a room with more exits than the current room&quot;, while &quot;GO IN&quot; means &quot;move toward a room with fewer exits, or towards an indoors room&quot;. Thus going in repeatedly within a building would lead towards dead-ends, while going out repeatedly would lead towards the center of the building and then towards an exit to the outside world.
<p>
<p>We start by encoding these rules as definitions:
<p>
<blockquote><font color="#000080">&quot;Owen's Law&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A room can be indoors or outdoors. A room is usually indoors.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Definition: a room is outward:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if it is not adjacent, no;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if it is indoors and the location is outdoors, no;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if it is outdoors and the location is indoors, yes;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the number of rooms adjacent to it is greater than the number of rooms adjacent to the location, yes;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise no.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Definition: a room is inward:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if it is not adjacent, no;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if it is outdoors and the location is indoors, no;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if it is indoors and the location is outdoors, yes;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the number of rooms adjacent to it is less than the number of rooms adjacent to the location, yes;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise no.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of going nowhere when the noun is outside: try exiting.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of exiting when the player is in a room:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if at least one room is outward:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let the destination be a random outward room;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let the way be the best route from the location to	 the destination;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;(that is, [way])[command clarification break]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try going the way instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;It's not entirely obvious which way you mean. &quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carry out the listing available exits activity.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of going inside when the room inside from the location is not a room and at least one room is inward:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if more than one room is inward:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carry out the listing available exits activity;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let the destination be a random inward room;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let the way be the best route from the location to the destination;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;(that is, [way])[command clarification break]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try going the way instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of going nowhere:
<br>&nbsp;&nbsp;&nbsp;&nbsp;carry out the listing available exits activity.
</font></blockquote><p>
<p>
<p>This &quot;listing available exits&quot; is a refinement borrowed from a future chapter, which allows us to specify special listing and printing rules:
<p>
<blockquote><font color="#000080">Listing available exits is an activity.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rule for listing available exits:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if going inside and an adjacent room is inward:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;From here 'in' could reasonably mean [a list of adjacent inward rooms].&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rule succeeds;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if exiting and an adjacent room is outward:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;From here 'out' could reasonably mean [a list of outward adjacent rooms].&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rule succeeds;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;From here you can go [a list of adjacent rooms].&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before printing the name of a room (called the target) while listing available exits:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let aim be the best route from the location to the target;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[aim] to the &quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rule for printing the name of an unvisited room which is not the location:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;unknown location&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Dune is an outdoors room. &quot;Hundreds of feet of dune stretch west to the beach, crisscrossed with dune-buggy tracks and the footprints of birds. To the east is a low-lying, boxy concrete installation.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Ocean Shores Military Installation is east of the Dune. It is an outdoors room. &quot;The World War II emplacements, built in case of Japanese invasion, have never been destroyed, though with all the weapons and furnishings gone it is difficult to make much sense of the original structure. A doorway leads west into concrete-lined darkness; a rusty but reliable ladder ascends to a walkway overlooking the sea.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Walkway is above Ocean Shores Military Installation. &quot;From here you have a long view of the dunes and the Pacific Ocean, complete with the rotting hull of a long-stranded vessel.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Dark Echoing Room is inside from Ocean Shores Military Installation. Dank Dripping Room is east of Dark Echoing Room. Narrow Room is south of Dark Echoing Room. Small Sealed Chamber is north of Dark Echoing Room. Room Smelling of Animal Urine is north of Dank Dripping Room. The description of a room is usually &quot;It is dark in here, and feels unsafe.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;e / u / d / in / s / out / n / out / e / in / out / out / out&quot;.
</font></blockquote><p>
</td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><p><a href=doc182.html STYLE="text-decoration: none">Previous</a> / <a href=doc184.html STYLE="text-decoration: none">Next</a> / <a href=index.html STYLE="text-decoration: none">Contents</a><p></font></div>
</body>
</html>
