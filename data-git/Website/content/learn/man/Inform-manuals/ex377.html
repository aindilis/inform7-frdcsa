<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Inform 7 - 16.15. Understanding things by their properties</title>
</head>
<body>
<div style="line-height: 18px;">

<!-- SEARCH TITLE "Tilt 1" -->
<!-- SEARCH SECTION "Ex 306" -->
<!-- SEARCH SORT "Ex 016-015-306" -->
<font><table><tr width="100%"><td width=80 valign="top"><a href=doc273.html border=0><img border=0 src=images/Back.png border=0></a><a href=index.html border=0><img border=0 src=images/Home.png border=0></a><a href=doc275.html border=0><img border=0 src=images/Forward.png border=0></a></td><td valign="top"><b>16.15. Understanding things by their properties</b></td></tr></table><p>
<p>
<p>Items are ordinarily understood only by their original given names. For instance, if we have:
<p>
<blockquote><font color="#000080">In the Herb Garden is a china pot.
</font></blockquote><p>
<p>
<p>then the player could refer to this as &quot;pot&quot;, &quot;china pot&quot; or &quot;china&quot;. We can embellish this by adding extra forms:
<p>
<blockquote><font color="#000080">Understand &quot;chinese pot&quot; or &quot;chinese vase&quot; as the china pot.
</font></blockquote><p>
<p>
<p>But suppose the pot changes its nature in the course of play? If we have:
<p>
<blockquote><font color="#000080">The china pot can be unbroken or broken. The china pot is unbroken.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After dropping the china pot:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Crack!&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the china pot is broken;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the printed name of the pot is &quot;broken pot&quot;.
</font></blockquote><p>
<p>
<p>So now the player would reasonably expect to call it &quot;broken pot&quot;, a wording which would have been rejected before. We can achieve this by writing:
<p>
<blockquote><font color="#000080">Understand the unbroken property as describing the pot.
</font></blockquote><p>
<p>
<p>which allows &quot;unbroken&quot; or &quot;broken&quot; to describe the pot, depending on its state. And, since the player might well use a different adjective but with the same idea in mind, we can even add:
<p>
<blockquote><font color="#000080">Understand &quot;shattered&quot; or &quot;cracked&quot; or &quot;smashed&quot; as broken. Understand &quot;pristine&quot; as unbroken.
</font></blockquote><p>
<p>
<p>This is something of a toy example, but the feature looks rather more useful when there are more pots than just one:
<p>
<blockquote><font color="#000080">&quot;Terracotta&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A flowerpot is a kind of thing. A flowerpot can be unbroken or broken. Understand the broken property as describing a flowerpot.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After dropping an unbroken flowerpot:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Crack!&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the noun is broken;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the printed name of the noun is &quot;broken flowerpot&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the printed plural name of the noun is &quot;broken flowerpots&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Herb Garden is a room. In the Herb Garden are ten unbroken flowerpots.
</font></blockquote><p>
<p>
<p>We then have the dialogue:
<p>
<blockquote><font color="#000080">Herb Garden
<br>You can see ten flowerpots here.
<br>>get two flowerpots
<br>flowerpot: Taken.
<br>flowerpot: Taken.
<br>>drop all
<br>flowerpot: Crack!
<br>flowerpot: Crack!
<br>>look
<br>Herb Garden
<br>You can see two broken flowerpots and eight flowerpots here.
<br>>get an unbroken flowerpot
<br>Taken.
</font></blockquote><p>
<p>
<p>and so on and so forth.
<p>
<p>There are in fact two slightly different forms of this kind of sentence:
<p>
<blockquote><font color="#000080">Understand the broken property as describing a flowerpot.
<br>Understand the broken property as referring to a flowerpot.
</font></blockquote><p>
<p>
<p>The only difference is that in the &quot;describing&quot; case, the property's name alone can mean the thing in question - so &quot;take unbroken&quot; will work; whereas, in the &quot;referring to&quot;, the property's name can only be used as an adjective preceding the name of thing itself - so &quot;take unbroken flowerpot&quot; will work but &quot;take unbroken&quot; will not.
<p>
<p><hr><p>
<a name="e16"><a href=ex16.html#e16 STYLE="text-decoration: none">*<b>Example 300:  Aspect</b></a><br>Understanding aspect ratios (a unit) in the names of televisions.<p>
<a name="e192"><a href=ex192.html#e192 STYLE="text-decoration: none">*<b>Example 301:  Hymenaeus</b></a><br>Understanding "flaming torch" and "extinguished torch" to refer to torches when lit and unlit.<p>
<a name="e149"><a href=ex149.html#e149 STYLE="text-decoration: none">**<b>Example 302:  Terracottissima</b></a><br>The flowerpots once again, but this time arranged so that after the first breakage all undamaged pots are said to be "unbroken", to distinguish them from the others.<p>
<a name="e284"><a href=ex284.html#e284 STYLE="text-decoration: none">**<b>Example 303:  Peers</b></a><br>The peers of the English realm come in six flavours - Baron, Viscount, Earl, Marquess, Duke and Prince - and must always be addressed properly. While a peerage is for life, it may at the royal pleasure be promoted.<p>
<a name="e72"><a href=ex72.html#e72 STYLE="text-decoration: none">**<b>Example 304: Channel 1</b></a><br>Understanding channels (a number) in the names of televisions.<p>
<a name="e372"><a href=ex372.html#e372 STYLE="text-decoration: none">***<b>Example 305:  Terracottissima Maxima</b></a><br>Flowerpots with textual names that might change during play.<p>
<!-- EXAMPLE START -->
<a name="e377"><a href=doc274.html#e377 STYLE="text-decoration: none">***<b><b>Example</b> 306: Tilt 1</b></a><br>A deck of cards with fully implemented individual cards, which can be separately drawn and discarded, and referred to by name.<p>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font>
<p>
<p>We've simulated a deck of cards before, but only as entries in a table. This time we're going to do it more completely, with card objects that can be drawn and discarded, and referred to by name. The tedious way to do this would be to make 52 objects by hand and laboriously write out their names and understand rules.
<p>
<p>A more sensible way is to make 52 identical card objects, assign them ranks and suits, and allow Inform to generate and parse their names automatically.
<p>
<p>So:
<p>
<blockquote><font color="#000080">&quot;Tilt&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Section 1 - Cards
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Suit is a kind of value. The suits are hearts, clubs, diamonds, and spades. Understand &quot;heart&quot; as hearts. Understand &quot;club&quot; as clubs. Understand &quot;diamond&quot; as diamonds. Understand &quot;spade&quot; as spades. [Providing the singular forms means that Inform will also understand >EXAMINE SPADE, >DISCARD CLUB, and so on.]
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A card is a kind of thing.  A card has a suit. A card has a number called rank. Understand the suit property as describing a card. Understand the rank property as describing a card.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">52 cards are in the card repository.
</font></blockquote><p>
<p>
<p>Now, we're going to describe the higher numbers as face cards, so it helps to write a new &quot;to say&quot; phrase, just as we did in Jokers Wild. (A subsequent version of this example shows how to print card values with red and black symbols representing the different suits; see &quot;Tilt 3&quot;.)
<p>
<blockquote><font color="#000080">To say (count - a number) as a card value:
<br>&nbsp;&nbsp;&nbsp;&nbsp;choose row count in the Table of Value Names;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[term entry]&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rule for printing the name of a card (called target):
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[rank of the target as a card value] of [suit of the target]&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Table of Value Names
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font color="#000080">term</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">value</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">topic</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;ace&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;1&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;ace/A/one&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;deuce&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;2&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;deuce/two&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;three&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;3&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;three&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;four&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;4&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;four&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;five&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;5&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;five&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;six&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;6&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;six&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;seven&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;7&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;seven&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;eight&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;8&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;eight&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;nine&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;9&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;nine&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;ten&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;10&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;ten&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;jack&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;11&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;jack/knave/J&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;queen&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;12&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;queen/Q&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;king&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;13&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;king/K&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<p>This is enough already to let inform understand things like &quot;ten clubs&quot;, but we want to add a couple of refinements. For one thing, we'd like to accept &quot;of&quot; when it appears in phrases such as &quot;ten of clubs&quot; (but not generically otherwise); for another, we'd like the player to be able to use various names for ranks. To this end, we need to borrow from the Activities chapter and modify the player's command before attempting to understand it:
<p>
<blockquote><font color="#000080">After reading a command:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the player's command includes &quot;of [suit]&quot;:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while the player's command includes &quot;of&quot;:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cut the matched text;
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat through the Table of Value Names:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while the player's command includes topic entry:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;replace the matched text with value entry.
<br>&nbsp;&nbsp;&nbsp;&nbsp;[This allows Inform to understand &quot;ace&quot;, &quot;deuce&quot;, &quot;king&quot;, etc., as numerical ranks.]
</font></blockquote><p>
<p>
<p>It may be a bit confusing that the Table of Value Names has both a topic column and a term column, to all appearances essentially identical. But items in the topic column can be matched against the player's input, whereas items in other kinds of text column can be printed out; the two kinds of text are not treated identically by Inform, so we need to have both. Notice that the topic column contains entries like &quot;jack/knave,&quot; which will match either &quot;jack&quot; or &quot;knave&quot; in the player's input.
<p>
<p>Now to set up the deck at the outset. With some intelligent looping, we avoid having to declare every combination of suit and number individually:
<p>
<blockquote><font color="#000080">When play begins:
<br>&nbsp;&nbsp;&nbsp;&nbsp;reconstitute deck.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To reconstitute deck:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let current suit be hearts;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now every card is in the card repository;
<br>&nbsp;&nbsp;&nbsp;&nbsp;while a card is in the card repository:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeat with current rank running from 1 to 13:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let item be a random card in card repository;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now rank of item is current rank;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now suit of item is current suit;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now item is in the deck of cards;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now current suit is the suit after the current suit.
</font></blockquote><p>
<p>
<p>And now we need a simple setting and some actions to manipulate the deck with:
<p>
<blockquote><font color="#000080">Section 2 - The Deck and the Discard Pile
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Empty Room is a room. &quot;Nothing to see here.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The deck of cards is in the Empty Room. It is a closed unopenable container. The description is &quot;A standard poker deck.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The discard pile is a closed unopenable container. The description is &quot;Cards in this game are discarded face-down, so the discard pile is not very interesting to see. All you can observe is that it currently contains [if the number of cards which are in the discard pile is less than ten][the number of cards which are in the discard pile in words][otherwise]about [the rounded number of cards which are in the discard pile in words][end if] card[s].&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To decide what number is the rounded number of (described set - a description of objects):
<br>&nbsp;&nbsp;&nbsp;&nbsp;let N be the number of members of the described set;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let R be N divided by 5;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let total be R times 5;
<br>&nbsp;&nbsp;&nbsp;&nbsp;decide on total.
</font></blockquote><p>
<p>
<p>The above phrase rounds a number to the nearest five, so that the player is not autistically able to count a large number of cards in the discard pile at a single glance.
<p>
<p>This next bit is an optional borrowing from the Activities chapter: we want to prevent Inform printing things like &quot;You can see a discard pile (closed) here.&quot;, since we don't want the player to think of the piles as containers, even though Inform thinks of them in those terms.
<p>
<blockquote><font color="#000080">Rule for printing room description details of something: do nothing instead.
</font></blockquote><p>
<p>
<p>Finally, we want the player to use &quot;draw&quot; and &quot;discard&quot; to manipulate his hand of cards:
<p>
<blockquote><font color="#000080">Section 3 - Drawing and Discarding Actions
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand the commands &quot;take&quot; and &quot;carry&quot; and &quot;hold&quot; and &quot;get&quot; and &quot;drop&quot; and &quot;throw&quot; and &quot;discard&quot; as something new.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;take [text]&quot; or &quot;get [text]&quot; or &quot;drop [text]&quot; as a mistake (&quot;Here, you only draw and discard. Nothing else matters at the moment.&quot;).
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;draw&quot; or &quot;draw card&quot; or &quot;draw a card&quot; as drawing. Drawing is an action applying to nothing. The drawing action has an object called the card drawn.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Setting action variables for drawing:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the card drawn is a random card which is in the deck of cards.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check drawing:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the card drawn is nothing, say &quot;The deck is completely depleted.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check drawing:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the number of cards carried by the player is greater than four,
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;This is a five-card game; you must discard something before drawing anything further.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out drawing:
<br>&nbsp;&nbsp;&nbsp;&nbsp;move the card drawn to the player.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report drawing:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You draw [a card drawn].&quot;
</font></blockquote><p>
<p>
<p>
<blockquote><font color="#000080">Understand &quot;discard [card]&quot; as discarding. Discarding is an action applying to one thing.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Check discarding:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the player does not carry the noun, say &quot;You can only discard cards from your own hand.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out discarding:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the noun is in the discard pile;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the discard pile is not visible, move the discard pile to the location.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report discarding:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You toss [the noun] nonchalantly onto the discard pile.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Seeding is an action out of world. Understand &quot;seed&quot; as seeding. Carry out seeding: seed the random-number generator with 5681.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;seed / draw / g / g / g / g / i / discard seven of spades / draw / discard six / draw / i / discard hearts / discard six of diamonds card / draw / draw / i / discard spades card / draw / discard king card&quot;.
</font></blockquote><p>
<p>
</td></tr></table><p>
<!-- EXAMPLE END -->
<a name="e73"><a href=ex73.html#e73 STYLE="text-decoration: none">***<b>Example 307: Channel 2</b></a><br>Understanding channels (a number) in the names of televisions, with more sophisticated parsing of the change channel action.<p>
<p><hr><p><a href=doc273.html STYLE="text-decoration: none">Previous</a> / <a href=doc275.html STYLE="text-decoration: none">Next</a> / <a href=index.html STYLE="text-decoration: none">Contents</a><p></font></div>
</body>
</html>
