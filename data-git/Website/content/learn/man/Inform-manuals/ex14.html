<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Inform 7 - 5.4. Text with numbers</title>
</head>
<body>
<div style="line-height: 18px;">

<!-- SEARCH TITLE "Ballpark" -->
<!-- SEARCH SECTION "Ex 60" -->
<!-- SEARCH SORT "Ex 005-004-060" -->
<font><table><tr width="100%"><td width=80 valign="top"><a href=doc74.html border=0><img border=0 src=images/Back.png border=0></a><a href=index.html border=0><img border=0 src=images/Home.png border=0></a><a href=doc76.html border=0><img border=0 src=images/Forward.png border=0></a></td><td valign="top"><b>5.4. Text with numbers</b></td></tr></table><p>
<p>
<p>When a numerical value is given in a square-bracketed substitution, it is ordinarily printed out in digits. Thus:
<p>
<blockquote><font color="#000080">&quot;You've been wandering around for [turn count] turns now.&quot;
</font></blockquote><p>
<p>
<p>might print as &quot;You've been wandering around for 213 turns now.&quot;, if the game has been played out for exactly that many commands. But if we prefer:
<p>
<p><p style='padding: 0.75em; border: 1px dashed #2f6fab; color: black; background-color: #e9e9e9; line-height: 1.5em; '>say &quot;[<b>number in words</b>]&quot;<table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of phs_numwords -->

<p>This text substitution writes out the number in English text. Example:
<p>
<blockquote><font color="#000080">&quot;You've been wandering around for [turn count in words] turns now.&quot;
</font></blockquote><p>
<p>
<p>might produce &quot;You've been wandering around for two hundred and thirteen turns now.&quot; The &quot;and&quot; here is natural on one side of the Atlantic but not the other - so with the &quot;Use American dialect.&quot; option in place, it disappears.
<p>
<!-- end definition -->
</table>
<p>
<p>Either way, though, there is some risk of the following:
<p>
<blockquote><font color="#000080">You've been wandering around for one turns now.
</font></blockquote><p>
<p>
<p>We can avoid this using the special substitution:
<p>
<p><p style='padding: 0.75em; border: 1px dashed #2f6fab; color: black; background-color: #e9e9e9; line-height: 1.5em; '>say &quot;[<b>s</b>]&quot;<table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of phs_s -->

<p>This text substitution prints a letter &quot;s&quot; unless the last number printed was 1. Example:
<p>
<blockquote><font color="#000080">&quot;You've been wandering around for [turn count in words] turn[s] now.&quot;
</font></blockquote><p>
<p>
<p>produces &quot;... for one turn now.&quot; or &quot;... for two turns now.&quot; as appropriate. Note that it reacts only to numbers, not to other arithmetic values like times (or, for instance, weights from the &quot;Metric Units&quot; extension).
<p>
<!-- end definition -->
</table>
<p>
<p>This only solves one case, but it's memorable, and the case is one which turns up often.
<p>
<p><hr><p>
<!-- EXAMPLE START -->
<a name="e14"><a href=doc75.html#e14 STYLE="text-decoration: none">***<b><b>Example</b> 60:  Ballpark</b></a><br>A new "to say" definition which allows the author to say "[a number in round numbers]" and get verbal descriptions like "a couple of" or "a few" as a result.<p>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font>
<p>
<p>Sometimes it is more sensible to describe numbers roughly than in exact terms. For instance, we might want to have our player perceive &quot;many people&quot; rather than &quot;forty-two people&quot; on entering a room. To achieve this, we might write our own &quot;to say&quot; phrase.
<p>
<blockquote><font color="#000080">&quot;Ballpark&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To say (count - a number) in round numbers:
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat through the Table of Numerical Approximation:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if count is less than threshold entry:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[approximation entry]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rule succeeds.
</font></blockquote><p>
<p>
<p>Phrases will be explained more thoroughly in a later chapter, but as we have already seen in the examples, we can make a &quot;To say...&quot; phrase that will allow us to create our own text substitutions. In this case, we are going to replace the specific number with a vaguer one chosen from a chart, so:
<p>
<blockquote><font color="#000080">Table of Numerical Approximation
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font color="#000080">threshold</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">approximation</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">1</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;no&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">2</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;one&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">3</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;a couple of&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">6</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;a few&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">11</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;some&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">21</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;many&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">1000</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;lots and lots of&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<p>The idea here is that we will work our way through the table until we hit a line where the threshold number is higher than the number we want to express, and then print that output: so if we have less than one item, we'll print &quot;no&quot;; if we have more than none but less than two, we'll print &quot;one&quot;; if we have less than three, we'll print &quot;a couple of&quot;; if we have three, four, or five (but not six), we'll print &quot;a few.&quot;
<p>
<blockquote><font color="#000080">A room has a number called the population. The population of a room is usually 0. The description of a room is usually &quot;You observe [population of the location in round numbers] [if population of the location is 1]person [otherwise]people [end if]here.&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Stadium is a room. The Hot Dog Stand is west of the Stadium. The Women's Restroom is south of the Stadium.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The population of the Stadium is 500. The population of the Hot Dog Stand is 3. The population of the Restroom is 750.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;w / e / s&quot;.
</font></blockquote><p>
</td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><p><a href=doc74.html STYLE="text-decoration: none">Previous</a> / <a href=doc76.html STYLE="text-decoration: none">Next</a> / <a href=index.html STYLE="text-decoration: none">Contents</a><p></font></div>
</body>
</html>
