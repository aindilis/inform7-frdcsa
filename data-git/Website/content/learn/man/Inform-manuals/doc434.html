<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Inform 7 - 25.17. Making and testing use options</title>
</head>
<body>
<div style="line-height: 18px;">

<!-- SEARCH TITLE "Making and testing use options" -->
<!-- SEARCH SECTION "25.17" -->
<!-- SEARCH SORT "025-017-000" -->
<font><table><tr width="100%"><td width=80 valign="top"><a href=doc433.html border=0><img border=0 src=images/Back.png border=0></a><a href=index.html border=0><img border=0 src=images/Home.png border=0></a><a href=doc435.html border=0><img border=0 src=images/Forward.png border=0></a></td><td valign="top"><b>25.17. Making and testing use options</b></td></tr></table><p>
<p>
<p>Use options (see Chapter 2 above) manifest themselves in the I6 code generated by I7 as constants which are either defined, or not. For instance, the &quot;use American dialect&quot; option results in the constant DIALECT_US being defined, a constant which otherwise would not be. Some use options define the constant as a particular value, others simply define it (so that I6 gives this constant the value 0).
<p>
<p>New use options can be created as in the following examples, which are found in the Standard Rules:
<p>
<blockquote><font color="#000080">Use American dialect translates as (- Constant DIALECT_US; -).
<br>Use full-length room descriptions translates as (- Constant I7_LOOKMODE = 2; -).
</font></blockquote><p>
<p>
<p>Most Inform users will not need to test whether a use option is currently set: after all, they will know whether or not their own game uses American dialect. But an extension does not know what use options apply in the game which is using it. An extension which needs to print a list, using its own formatting, might want to know whether &quot;use serial comma&quot; is set. Or it might want to speak differently in American dialect.
<p>
<p>To test for American dialect, we should ideally not use I6 to look for the constant DIALECT_US using #ifdef: there is no guarantee that this constant will not be renamed at some point. Instead we can perform the test directly in I7:
<p>
<blockquote><font color="#000080">if the American dialect option is active, ...
</font></blockquote><p>
<p>
<p>and similarly for all other named use options. The adjectives &quot;active&quot; and &quot;inactive&quot; have the obvious meanings for use options. This means it's possible to describe the current options like so:
<p>
<blockquote><font color="#000080">say &quot;We're currently using: [list of active use options].&quot;;
</font></blockquote><p>
<p>
<p>The result might be, say,
<p>
<blockquote><font color="#000080">We're currently using: dynamic memory allocation option [8192], maximum indexed text length option [1024], maximum things understood at once option [100], American dialect option and fast route-finding option.
</font></blockquote><p>
<p>
<p>This may be useful for testing purposes.
<p>
<p>The former condition &quot;using O&quot;, true if the option O is active, false if not, has not yet been withdrawn but is now deprecated, and may be removed in future builds, since it is redundant and less flexible; please write &quot;if O is active&quot; instead of &quot;if using O&quot;.
<p>
<p>Use options can also allow the writer to raise certain maximum values. If we write an extension which needs some I6 array, say, and therefore has some limitation - for instance a footnotes presenter which can handle at most 100 footnotes before its array space runs out - it would obviously be cleaner to allow this maximum to be raised. We can set this up like so:
<p>
<blockquote><font color="#000080">Use maximum presented footnotes of at least 100 translates as (- Constant MAX_PRESENTED_FOOTNOTES = {N}; -).
</font></blockquote><p>
<p>
<p>With such a definition, the number given is the default value, and the I6 source is included whether or not anybody uses the option: the default value being given if nobody does. The text &quot;{N}&quot; is replaced with the value. So the above definition normally results in this being defined:
<p>
<blockquote><font color="#000080">Constant MAX_PRESENTED_FOOTNOTES = 100;
</font></blockquote><p>
<p>
<p>but if the user writes
<p>
<blockquote><font color="#000080">Use maximum presented footnotes of at least 350.
</font></blockquote><p>
<p>
<p>then instead the I6 inclusion becomes:
<p>
<blockquote><font color="#000080">Constant MAX_PRESENTED_FOOTNOTES = 350;
</font></blockquote><p>
<p>
<p>The I6 constant MAX_PRESENTED_FOOTNOTES can then be used as the size of an array, for instance.
<p>
<p><hr><img border=&quot;0&quot; src=images/beta.png id=&quot;betaoval&quot; style=&quot;height:31px; width=40px&quot;>Previous builds allowed:
<p>
<p><p style='padding: 0.75em; border: 1px dashed #c00000; color: black; background-color: #e9e9e9; line-height: 1.5em; '><i>if</i> <b>using the</b>/--<b> </b>(use option)<b></b><i>:</i><table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of ph_testuseoption_dep -->

<p>This condition is now deprecated. It duplicates the effect of:
<p>
<blockquote><font color="#000080">if ... is active, ...
</font></blockquote><p>
<p>
<!-- end definition -->
</table>
<p>
<p><hr><p><a href=doc433.html STYLE="text-decoration: none">Previous</a> / <a href=doc435.html STYLE="text-decoration: none">Next</a> / <a href=index.html STYLE="text-decoration: none">Contents</a><p></font></div>
</body>
</html>
