<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Inform 7 - 19.7. Indexed text in variables, properties and tables</title>
</head>
<body>
<div style="line-height: 18px;">

<!-- SEARCH TITLE "Indexed text in variables, properties and tables" -->
<!-- SEARCH SECTION "19.7" -->
<!-- SEARCH SORT "019-007-000" -->
<font><table><tr width="100%"><td width=80 valign="top"><a href=doc345.html border=0><img border=0 src=images/Back.png border=0></a><a href=index.html border=0><img border=0 src=images/Home.png border=0></a><a href=doc347.html border=0><img border=0 src=images/Forward.png border=0></a></td><td valign="top"><b>19.7. Indexed text in variables, properties and tables</b></td></tr></table><p>
<p>
<p>So far we have been able to ignore the difference between &quot;text&quot; and &quot;indexed text&quot; because Inform has always been able to convert the former to the latter when needed. But the reverse conversion cannot be made. Ordinary text is stored in a specially compacted, read-only form: it's really part of the program, not part of the data.
<p>
<p>The upshot of this is that if we need a variable to contain text which can be internally altered during play, then we must declare this. Instead of writing
<p>
<blockquote><font color="#000080">The player's forename is a text that varies.
</font></blockquote><p>
<p>
<p>we must write:
<p>
<blockquote><font color="#000080">The player's forename is an indexed text that varies.
</font></blockquote><p>
<p>
<p>Similarly for a property:
<p>
<blockquote><font color="#000080">A person has an indexed text called nickname.
</font></blockquote><p>
<p>
<p>For a named &quot;let&quot; value, we have a dilemma. These are normally created by writing something like:
<p>
<blockquote><font color="#000080">let the target be 17;
</font></blockquote><p>
<p>
<p>and Inform looks at the value - here 17, a number - to deduce that the new value, called &quot;target&quot;, must be a number. So if we write:
<p>
<blockquote><font color="#000080">let the target be &quot;excellent&quot;;
</font></blockquote><p>
<p>
<p>the result is that &quot;target&quot; is just a text, not an indexed text. We get around this by writing instead:
<p>
<blockquote><font color="#000080">let the target be an indexed text;
</font></blockquote><p>
<p>
<p>which creates the value, initially having the empty text as contents, and then
<p>
<blockquote><font color="#000080">let the target be &quot;excellent&quot;;
</font></blockquote><p>
<p>
<p>to subsequently set its initial state.
<p>
<p>The same issue arises for table columns, because we are allowed to simply write out values in table columns, and let Inform work out what kind they are. If there are blank entries, we can always write in the kind of value by hand, but suppose the entries are initially all filled in? The answer is that we can imitate this:
<p>
<blockquote><font color="#000080">Table of Neptune's Moons
<br><table border="0" valign="top" cellpadding="0" cellspacing="0"><tr><td valign="top"><font color="#000080">moon</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">surface (indexed text)</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;Nereid&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;utterly unknown&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;Triton&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;cryovolcanic ridges&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr><tr><td valign="top"><font color="#000080">&quot;Proteus&quot;</font>&nbsp;&nbsp;&nbsp;</td><td valign="top"><font color="#000080">&quot;highly irregular and sooty&quot;</font>&nbsp;&nbsp;&nbsp;</td>
</tr></table>
</font></blockquote><p>
<p>
<p>Here the two columns are called &quot;moon&quot; and &quot;surface&quot;, so we can talk about the &quot;moon entry&quot; and the &quot;surface entry&quot; once a row has been chosen: but the moon entry is text, and the surface entry is indexed text.
<p>
<p>Lastly, suppose we want to define new phrases which deal with text. Here we have two things to remember. First, we need to say that the value decided is indexed text, not text; secondly, that text converts to indexed text by magic, but not vice versa. So:
<p>
<blockquote><font color="#000080">To decide what indexed text is (T - text) doubled:
<br>&nbsp;&nbsp;&nbsp;&nbsp;decide on &quot;[T][T]&quot;.
</font></blockquote><p>
<p>
<p>works fine so long as we only want to pass text to it, but would not let us double indexed text. This, on the other hand, handles both:
<p>
<blockquote><font color="#000080">To decide what indexed text is (T - indexed text) doubled:
<br>&nbsp;&nbsp;&nbsp;&nbsp;decide on &quot;[T][T]&quot;.
</font></blockquote><p>
<p>
<p>So for instance:
<p>
<blockquote><font color="#000080">say &quot;Neptune&quot; doubled.
</font></blockquote><p>
<p>
<p>prints &quot;NeptuneNeptune&quot; because Inform automatically converts &quot;Neptune&quot; to indexed text when &quot;doubled&quot; is used on it.
<p>
<p><hr><p>
<a name="e194"><a href=ex194.html#e194 STYLE="text-decoration: none">*<b>Example 405:  Identity Theft</b></a><br>Allowing the player to enter a name to be used for the player character during the game.<p>
<a name="e248"><a href=ex248.html#e248 STYLE="text-decoration: none">*<b>Example 406:  Mirror, Mirror</b></a><br>The sorcerer's mirror can, when held up high, form an impression of its surroundings which it then preserves.<p>
<a name="e95"><a href=ex95.html#e95 STYLE="text-decoration: none">**<b>Example 407:  The Cow Exonerated</b></a><br>Creating a class of matches that burn for a time and then go out, with elegant reporting when several matches go out at once.<p>
<p><hr><p><a href=doc345.html STYLE="text-decoration: none">Previous</a> / <a href=doc347.html STYLE="text-decoration: none">Next</a> / <a href=index.html STYLE="text-decoration: none">Contents</a><p></font></div>
</body>
</html>
