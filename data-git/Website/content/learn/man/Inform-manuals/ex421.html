<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Inform 7 - 18.6. The preamble of a rule</title>
</head>
<body>
<div style="line-height: 18px;">

<!-- SEARCH TITLE "We" -->
<!-- SEARCH SECTION "Ex 382" -->
<!-- SEARCH SORT "Ex 018-006-382" -->
<font><table><tr width="100%"><td width=80 valign="top"><a href=doc325.html border=0><img border=0 src=images/Back.png border=0></a><a href=index.html border=0><img border=0 src=images/Home.png border=0></a><a href=doc327.html border=0><img border=0 src=images/Forward.png border=0></a></td><td valign="top"><b>18.6. The preamble of a rule</b></td></tr></table><p>
<p>
<p>In general, a rule looks like this:
<p>
<blockquote><font color="#000080">preamble : list of one or more phrases divided by semicolons
</font></blockquote><p>
<p>
<p>though in a few common cases (where the preamble begins with Before, After, Instead of, Every turn, or When, and there is only one phrase in the list) the colon can be replaced with a comma. Three kinds of declaration are special, and these we can tell apart by the first word:
<p>
<blockquote><font color="#000080">To ... - a new phrase: see the chapter on Phrases
<br>At ... - something due to happen at a given time: see Time
<br>Definition: ... - a new adjective: see Descriptions
</font></blockquote><p>
<p>
<p>All other declarations (that is, starting with any other word) create rules fit for going into rulebooks. The preamble can either just be a name, which is required to end with the word &quot;rule&quot;, or it can give circumstances and have no name, or it can do both:
<p>
<blockquote><font color="#000080">This is the ...name of rule...
<br>...circumstances...
<br>...circumstances... (this is the ...name of rule...)
</font></blockquote><p>
<p>
<p>The circumstances should be a sequence of the following ingredients, each of which is optional except the name of the rulebook:
<p>
<blockquote><font color="#000080">first <i>or</i> last
<br><i>followed by</i> ...rulebook name...
<br><i>followed by</i> about <i>or</i> for <i>or</i> of <i>or</i> on <i>or</i> rule
<br><i>followed by</i> ...what to apply to...
<br><i>followed by</i> while <i>or</i> when ...condition...
<br><i>followed by</i> during ...a scene...
</font></blockquote><p>
<p>
<p>The word &quot;first&quot; or &quot;last&quot;, if present, is significant: it tells Inform exactly where the new rule should be placed into its rulebook, and so overrides the normal practice of placing the rule according to how specific it is.
<p>
<p>On the other hand, the use of any of the words &quot;about&quot;, &quot;for&quot;, etc., is purely to make the grammar easier to follow for: Inform does not make any direct use of these words (except perhaps that it may help to avoid ambiguities by separating the rulebook name from what is being applied to). Thus in the rule
<p>
<blockquote><font color="#000080">Instead of kissing Clark: ...
</font></blockquote><p>
<p>
<p>the word &quot;instead&quot; is the rulebook's name, while &quot;of&quot; is technically optional. &quot;Instead about kissing Clark: ...&quot; would work just as well, but would make the source text harder to read.
<p>
<p>In this whole list of possible ingredients, only the rulebook name is compulsory. We could define a rule called simply &quot;Instead: ...&quot; if we wanted - though its universal applicability would make it pretty disruptive, with every action stopped in its tracks.
<p>
<p><hr><p>
<!-- EXAMPLE START -->
<a name="e421"><a href=doc326.html#e421 STYLE="text-decoration: none">*<b><b>Example</b> 382:  We</b></a><br>Replacing the standard action report rules to reflect our own design.<p>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font>
<p>
<p>Suppose we don't like the library responses for certain actions and would prefer something else.
<p>
<p>We could explicitly replace each report rule with &quot;The new report dropping rule is listed instead of the standard report dropping rule...&quot;.
<p>
<p>Another way is to slip in our replacements at the beginning of each report rulebook, and then stop the action before it got as far as calling the standard report rule. For instance, if we were designing a game in the first person plural:
<p>
<blockquote><font color="#000080">&quot;We&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Our Own Company is a room. It contains courage. The player carries names.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;z / take courage / drop names&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">First report dropping rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;We casually drop [the noun].&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">First report taking rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;We gather [the noun] to ourselves.&quot; instead.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">First report waiting rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;We talk amongst ourselves.&quot; instead.
</font></blockquote><p>
<p>
<p>...and so on throughout the action set.
<p>
<p>The last (and probably much the most practical) approach to overriding library messages systematically is to use an extension designed for the purpose. Several of these are available on the Inform extensions page, including one that allows us to choose a different tense and person for the messages (for example, &quot;She saw nothing special.&quot; rather than &quot;You see nothing special.&quot;).
</td></tr></table><p>
<!-- EXAMPLE END -->
<a name="e42"><a href=ex42.html#e42 STYLE="text-decoration: none">***<b>Example 383: Backus-Naur form for rules</b></a><br>The full grammar Inform uses to parse rule definitions, in a standard computer-science notation.<p>
<p><hr><p><a href=doc325.html STYLE="text-decoration: none">Previous</a> / <a href=doc327.html STYLE="text-decoration: none">Next</a> / <a href=index.html STYLE="text-decoration: none">Contents</a><p></font></div>
</body>
</html>
