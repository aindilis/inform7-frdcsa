<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Inform 7 - 8.18. Randomness</title>
</head>
<body>
<div style="line-height: 18px;">

<!-- SEARCH TITLE "Lanista 1" -->
<!-- SEARCH SECTION "Ex 130" -->
<!-- SEARCH SORT "Ex 008-018-130" -->
<font><table><tr width="100%"><td width=80 valign="top"><a href=doc138.html border=0><img border=0 src=images/Back.png border=0></a><a href=index.html border=0><img border=0 src=images/Home.png border=0></a><a href=doc140.html border=0><img border=0 src=images/Forward.png border=0></a></td><td valign="top"><b>8.18. Randomness</b></td></tr></table><p>
<p>
<p>Sometimes we want to introduce random behaviour into play. We usually do this by generating random values, and then acting differently depending on what they are. The following:
<p>
<blockquote><font color="#000080">a random number from 2 to 5
</font></blockquote><p>
<p>
<p>produces, as it suggests, a random number drawn from the choices 2, 3, 4 or 5, each of which is equally likely to come up. In fact, this isn't limited to numbers:
<p>
<p><p style='padding: 0.75em; border: 1px dashed #2f6fab; color: black; background-color: #e9e9e9; line-height: 1.5em; '><b>a random </b>(name of kind)<b> between </b>(arithmetic value)<b> and </b>(arithmetic value)<b></b> ... <i>value</i><br><i>or:</i> <b>a random </b>(name of kind)<b> from </b>(arithmetic value)<b> to </b>(arithmetic value)<b></b> ... <i>value</i><br><i>or:</i> <b>a random </b>(name of kind)<b> between </b>(enumerated value)<b> and </b>(enumerated value)<b></b> ... <i>value</i><br><i>or:</i> <b>a random </b>(name of kind)<b> from </b>(enumerated value)<b> to </b>(enumerated value)<b></b> ... <i>value</i><table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of ph_randombetween -->

<p>This phrase produces a uniformly random value in the range given. Examples:
<p>
<blockquote><font color="#000080">a random number from 10 to 99
<br>a random time from 2:31 PM to 2:57 PM
</font></blockquote><p>
<p>
<p>If we make a new kind of value:
<p>
<blockquote><font color="#000080">A cloud pattern is a kind of value. The cloud patterns are cumulus, altocumulus, cumulonimbus, stratus, cirrus, nimbus, nimbostratus.
</font></blockquote><p>
<p>
<p>then we can also take random values from it:
<p>
<blockquote><font color="#000080">a random cloud pattern between stratus and nimbus
</font></blockquote><p>
<p>
<p>which has three possible outcomes, all equally likely.
<p>
<!-- end definition -->
</table>
<p>
<p>We can also use random conditions:
<p>
<p><p style='padding: 0.75em; border: 1px dashed #2f6fab; color: black; background-color: #e9e9e9; line-height: 1.5em; '><i>if</i> <b>a random chance of </b>(number)<b> in </b>(number)<b> succeeds</b><i>:</i><table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of ph_randomchance -->

<p>This condition is true X/Yths of the time, where X and Y are the numbers. Example:
<p>
<blockquote><font color="#000080">if a random chance of 2 in 3 succeeds, ...
</font></blockquote><p>
<p>
<p>Here is a rule which applies only 15% of the time:
<p>
<blockquote><font color="#000080">Instead of waiting when a random chance of 15 in 100 succeeds: ...
</font></blockquote><p>
<p>
<!-- end definition -->
</table>
<p>
<p>Testing IF which makes random choices can be rather frustrating, because a problem showing up on one attempt may not show up on another. We can get around this by making use of the fact that computers do not actually generate true randomness, but instead make a sequence of apparently random numbers by applying a complicated formula to each one in order to make the next. The starting point is a number called the &quot;seed&quot;, because the next choice grows out of it.
<p>
<p><p style='padding: 0.75em; border: 1px dashed #2f6fab; color: black; background-color: #e9e9e9; line-height: 1.5em; '><b>seed the random-number generator with </b>(number)<b></b><table CELLPADDING=0 CELLSPACING=0 width='100%'><tr><td halign='left' valign='center' CELLPADDING=0 CELLSPACING=0><font>
<!-- definition of ph_seed -->

<p>This phrase changes the seed number as specified. Any random numbers generated after that depend only on the seed. Example: the following sentence will &quot;fix&quot; the process of generating these random numbers so that they are not random at all - the same sequence of random numbers will be produced on each run.
<p>
<blockquote><font color="#000080">When play begins, seed the random-number generator with 1234.
</font></blockquote><p>
<p>
<p>The seed value &quot;1234&quot; can be anything positive; a different sequence of random numbers will be produced for each different seed value. A seed value of 0 restores the RNG to properly random behaviour again.
<p>
<!-- end definition -->
</table>
<p>
<p>Alternatively, it's possible the &quot;fix&quot; the RNG by clicking the &quot;Make random outcomes predictable when testing&quot; option on the Settings panel. This makes the behaviour predictable whenever the game is played within Inform, but (unlike the rule above) has no effect on the story file once released.
<p>
<p><hr><p>
<a name="e109"><a href=ex109.html#e109 STYLE="text-decoration: none">*<b>Example 129:  Do Pass Go</b></a><br>A pair of dice which can be rolled, and are described with their current total when not carried, and have individual scores when examined.<p>
<!-- EXAMPLE START -->
<a name="e210"><a href=doc139.html#e210 STYLE="text-decoration: none">*<b><b>Example</b> 130: Lanista 1</b></a><br>Very simple randomized combat in which characters hit one another for a randomized amount of damage.<p>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font>
<p>
<blockquote><font color="#000080">&quot;Lanista, Part One&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Arena is a room. &quot;Sand, blood, iron. These festivals are normally held on hot days, but the sun has gone behind a cloud and fat drops of rain now and then spatter the arena floor.&quot; The gladiator is a man in the Arena. &quot;A bare-chested Scythian gladiator faces you, wielding a trident.&quot;
</font></blockquote><p>
<p>
<p>We start by recording, for each person, a maximum number of points of damage the person can sustain when starting from health, and the current number of points remaining. In the tradition of role-playing games, these are referred to as hit points.
<p>
<blockquote><font color="#000080">A person has a number called maximum hit points. A person has a number called current hit points.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The maximum hit points of the player is 35. The maximum hit points of the gladiator is 25.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The current hit points of the player is 35. The current hit points of the gladiator is 25.
</font></blockquote><p>
<p>
<p>Now our rule for the actual attack. We want first to calculate how much damage the player's attack does, inflict that damage, and remove the enemy if he's dead; then, if he doesn't die, the enemy counter-attacks, also for a randomized amount of damage, and if this kills the player, the game ends in defeat.
<p>
<blockquote><font color="#000080">Instead of attacking someone:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let the damage be a random number between 2 and 10;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You attack [the noun], causing [damage] points of damage!&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;decrease the current hit points of the noun by the damage;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the current hit points of the noun is less than 0:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[line break][The noun] expires, and is immediately carried away by the Arena slaves!&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remove the noun from play;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end the story finally;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stop the action;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let the enemy damage be a random number between 2 and 10;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[line break][The noun] attacks you, causing [enemy damage] points of damage!&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;decrease the current hit points of the player by the enemy damage;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the current hit points of the player is less than 0:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[line break]You expire!&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end the story.
</font></blockquote><p>
<p>
<p>This last bit is a refinement to help the player keep track of how the contest is going:
<p>
<blockquote><font color="#000080">When play begins:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the left hand status line is &quot;You: [current hit points of player]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the right hand status line is &quot;Gladiator: [current hit points of gladiator]&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;hit gladiator / g / g / g&quot;.
</font></blockquote><p>
<p>
</td></tr></table><p>
<!-- EXAMPLE END -->
<a name="e422"><a href=ex422.html#e422 STYLE="text-decoration: none">*<b>Example 131:  Weathering</b></a><br>The automatic weather station atop Mt. Pisgah shows randomly fluctuating temperature, pressure and cloud cover.<p>
<a name="e169"><a href=ex169.html#e169 STYLE="text-decoration: none">***<b>Example 132:  Uptown Girls</b></a><br>A stream of random pedestrians who go by the player.<p>
<p><hr><p><a href=doc138.html STYLE="text-decoration: none">Previous</a> / <a href=doc140.html STYLE="text-decoration: none">Next</a> / <a href=index.html STYLE="text-decoration: none">Contents</a><p></font></div>
</body>
</html>
